<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC da Matem√°tica - 5¬∫ Ano</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #4a6bff 0%, #ff6b9d 100%);
            color: #333;
            min-height: 100vh;
            padding: 15px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            color: white;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border: 3px dashed white;
        }
        
        h1 {
            font-size: 2.3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            color: #ffeb3b;
        }
        
        h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 900px;
            margin: 0 auto 10px;
            color: white;
        }
        
        .highlight {
            background-color: rgba(255, 255, 255, 0.3);
            padding: 12px;
            border-radius: 15px;
            margin-top: 10px;
            border: 2px solid #ffeb3b;
        }
        
        .content-area {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .game-section {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            border: 5px solid #4a6bff;
        }
        
        .controls-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .info-btn {
            background-color: #ff6b9d;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }
        
        .info-btn:hover {
            background-color: #ff4081;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .info-btn:active {
            transform: translateY(0) scale(1);
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin-top: 15px;
        }
        
        .game-title {
            color: #4a6bff;
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .game-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            width: 100%;
            margin-bottom: 25px;
        }
        
        .skill-card {
            background-color: #f0f7ff;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 160px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .skill-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            border-color: #4a6bff;
        }
        
        .skill-card.completed {
            border-color: #4caf50;
            background-color: #e8f5e9;
        }
        
        .skill-card.in-progress {
            border-color: #ff9800;
            background-color: #fff3e0;
        }
        
        .skill-code {
            position: absolute;
            top: 8px;
            left: 8px;
            background-color: #4a6bff;
            color: white;
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 15px;
            font-weight: bold;
        }
        
        .card-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #4a6bff;
        }
        
        .skill-card.completed .card-icon {
            color: #4caf50;
        }
        
        .skill-card.in-progress .card-icon {
            color: #ff9800;
        }
        
        .card-title {
            font-size: 0.95rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }
        
        .card-desc {
            font-size: 0.8rem;
            color: #666;
            line-height: 1.2;
        }
        
        .progress-indicator {
            position: absolute;
            bottom: 5px;
            right: 8px;
            font-size: 0.7rem;
            color: #666;
        }
        
        .progress-container {
            width: 100%;
            margin: 15px 0;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #4a6bff;
            margin-bottom: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: linear-gradient(90deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.3) 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .progress-text {
            font-size: 1rem;
            color: #4a6bff;
            font-weight: bold;
        }
        
        .score-board {
            background-color: #e8eaf6;
            padding: 15px;
            border-radius: 15px;
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 700px;
            margin-top: 15px;
            border: 3px solid #ff6b9d;
        }
        
        .score-item {
            text-align: center;
            padding: 5px;
        }
        
        .score-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #4a6bff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .score-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: bold;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 3% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            position: relative;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border: 5px solid #ff6b9d;
            z-index: 1001;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.8rem;
            color: #4a6bff;
            cursor: pointer;
            transition: color 0.3s;
            background: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #4a6bff;
        }
        
        .close-modal:hover {
            color: #ff4081;
            background-color: #f0f7ff;
        }
        
        .modal-title {
            color: #4a6bff;
            font-size: 1.8rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px dashed #e8eaf6;
        }
        
        .modal-text {
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .skills-list {
            list-style-type: none;
            margin-left: 0;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .skills-list li {
            margin-bottom: 12px;
            padding: 12px;
            border-left: 4px solid #4a6bff;
            background-color: #f9f9f9;
            border-radius: 0 10px 10px 0;
            transition: all 0.3s;
        }
        
        .skills-list li:hover {
            background-color: #e8eaf6;
            transform: translateX(5px);
        }
        
        .skill-code-modal {
            display: inline-block;
            background-color: #4a6bff;
            color: white;
            font-weight: bold;
            padding: 3px 10px;
            border-radius: 15px;
            margin-right: 10px;
            min-width: 100px;
        }
        
        .unit-theme {
            background-color: #e8eaf6;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #4a6bff;
        }
        
        .unit-title {
            color: #4a6bff;
            font-size: 1.3rem;
            margin-bottom: 8px;
        }
        
        footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            padding: 15px;
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Estilos espec√≠ficos para o jogo */
        .option-btn {
            width: 100%;
            text-align: left;
            padding: 15px;
            border: 3px solid #ddd;
            border-radius: 15px;
            background-color: white;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .option-btn:hover {
            background-color: #f5f5f5;
            transform: translateY(-2px);
        }
        
        .option-btn.selected {
            border-color: #4a6bff;
            background-color: #e8eaf6;
            font-weight: bold;
            transform: scale(1.02);
        }
        
        .option-btn.correct {
            border-color: #4caf50;
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .option-btn.incorrect {
            border-color: #f44336;
            background-color: #ffebee;
            color: #c62828;
        }
        
        .respond-btn {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s;
            display: block;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .respond-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #388e3c, #689f38);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .respond-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .next-btn {
            background: linear-gradient(135deg, #4a6bff, #6b8cff);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s;
            display: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .next-btn:hover {
            background: linear-gradient(135deg, #3a5bdf, #5b7cff);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .feedback-box {
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
            border: 3px solid transparent;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .feedback-correct {
            background-color: #e8f5e9;
            border-color: #4caf50;
        }
        
        .feedback-incorrect {
            background-color: #ffebee;
            border-color: #f44336;
        }
        
        .emoji {
            font-size: 1.5rem;
            margin-right: 10px;
        }
        
        /* Estilo para o bot√£o de reiniciar jogo */
        .reset-btn {
            background: linear-gradient(135deg, #ff6b9d, #ff4081);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .reset-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Anima√ß√µes divertidas */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .bounce-animation {
            animation: bounce 0.5s ease;
        }
        
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .celebrate-animation {
            animation: celebrate 0.5s ease;
        }
        
        /* Novas anima√ß√µes para feedback visual */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .shake-animation {
            animation: shake 0.5s ease;
        }
        
        @keyframes green-pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        
        .green-pulse-animation {
            animation: green-pulse 0.8s ease;
        }
        
        @keyframes fireworks {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .fireworks-animation {
            animation: fireworks 0.5s ease;
        }
        
        /* Confete canvas - garante que fique acima do modal */
        canvas {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            pointer-events: none !important;
            z-index: 9999 !important;
        }
        
        /* Estilos para o modal de Revis√£o Te√≥rica */
        .theory-selector {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 3px solid #4a6bff;
            background-color: white;
            color: #333;
            font-size: 1rem;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .theory-selector:hover {
            border-color: #ff6b9d;
            transform: translateY(-2px);
        }
        
        .theory-selector:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(74, 107, 255, 0.3);
        }
        
        .theory-content-container {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 15px;
            border: 2px solid #e8eaf6;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .theory-item {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px dashed #e0e0e0;
        }
        
        .theory-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .theory-topic-title {
            color: #4a6bff;
            font-size: 1.4rem;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e8eaf6;
        }
        
        .theory-explanation {
            color: #333;
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .theory-example {
            background-color: #e8eaf6;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ff6b9d;
        }
        
        .theory-example-title {
            color: #ff6b9d;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .theory-key-points {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4caf50;
        }
        
        .theory-key-points-title {
            color: #4caf50;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        /* Bot√£o de download PDF */
        .download-pdf-btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 350px;
        }
        
        .download-pdf-btn:hover {
            background: linear-gradient(135deg, #388e3c, #1b5e20);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .download-pdf-btn i {
            margin-right: 10px;
        }
        
        /* Bot√£o de estat√≠sticas */
        .download-stats-btn {
            background: linear-gradient(135deg, #ff9800, #ff5722);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: bold;
            margin: 10px auto;
            display: block;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 350px;
        }
        
        .download-stats-btn:hover {
            background: linear-gradient(135deg, #f57c00, #e64a19);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .download-stats-btn i {
            margin-right: 10px;
        }
        
        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        @media (max-width: 1200px) {
            .game-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 900px) {
            .game-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .skill-card {
                height: 170px;
            }
            
            .button-container {
                flex-direction: column;
                align-items: center;
            }
        }
        
        @media (max-width: 600px) {
            .game-grid {
                grid-template-columns: 1fr;
            }
            
            .skill-card {
                height: 140px;
            }
            
            .controls-section {
                flex-direction: column;
                align-items: center;
            }
            
            .info-btn {
                width: 100%;
                max-width: 280px;
                justify-content: center;
            }
            
            .modal-content {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .score-value {
                font-size: 1.8rem;
            }
            
            .skill-code-modal {
                display: block;
                margin-bottom: 5px;
                width: fit-content;
            }
            
            .option-btn {
                font-size: 1rem;
                padding: 12px;
            }
            
            .theory-selector {
                font-size: 0.9rem;
                padding: 12px;
            }
            
            .theory-content-container {
                max-height: 300px;
            }
            
            .download-pdf-btn,
            .download-stats-btn {
                padding: 12px 20px;
                font-size: 1rem;
                max-width: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆABC da Matem√°tica - 5¬∫ Ano do Ensino Fundamental Anos IniciaisüéÆ</h1>
            <p class="subtitle">Aprenda matem√°tica brincando! Descubra 25 habilidades divertidas</p>
            <h2>Jogo criado por alunos de Licenciatura em Matem√°tica da Universidade Virtual do Estado de S√£o Paulo - UNIVESP, para alunos do 5¬∫ ano do Ensino Fundamental Anos Iniciais aprenderem matem√°tica brincando</h2>
            
            <div class="highlight">
                <p><i class="fas fa-gamepad"></i> <strong>25 Desafios Matem√°ticos - 5¬∫ Ano do Ensino Fundamental Anos Iniciais</strong></p>
            </div>
        </header>
        
        <div class="content-area">
            <section class="game-section">
                <div class="controls-section">
                    <button class="info-btn" id="projectBtn">
                        <i class="fas fa-info-circle"></i> Sobre o Jogo
                    </button>
                    <button class="info-btn" id="skillsBtn">
                        <i class="fas fa-star"></i> Desafios
                    </button>
                    <button class="info-btn" id="reviewBtn">
                        <i class="fas fa-book"></i> Conte√∫dos
                    </button>
                    <button class="info-btn" id="theoryBtn">
                        <i class="fas fa-brain"></i> Revis√£o Te√≥rica
                    </button>
                    <button class="info-btn" id="rulesBtn">
                        <i class="fas fa-play-circle"></i> Como Jogar
                    </button>
                    <button class="info-btn" id="moreBtn">
                        <i class="fas fa-lightbulb"></i> Dicas
                    </button>
                    <button class="info-btn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reiniciar Jogo
                    </button>
                </div>
                
                <h2 class="game-title">Escolha um desafio para come√ßar!</h2>
                <p style="text-align: center; margin-bottom: 20px; color: #666; font-size: 1.1rem;">Clique em um dos cart√µes abaixo para jogar</p>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="globalProgress" style="width: 0%"></div>
                    </div>
                    <p class="progress-text"><span id="completedCount">0</span> de 25 desafios completados</p>
                </div>
                
                <div class="game-container">
                    <div class="game-grid" id="skillsGrid">
                        <!-- As 25 habilidades ser√£o inseridas aqui via JavaScript -->
                    </div>
                    
                    <div class="score-board">
                        <div class="score-item">
                            <div class="score-value" id="correctCount">0</div>
                            <div class="score-label">Acertos</div>
                        </div>
                        <div class="score-item">
                            <div class="score-value" id="attemptCount">0</div>
                            <div class="score-label">Tentativas</div>
                        </div>
                        <div class="score-item">
                            <div class="score-value" id="percentage">0%</div>
                            <div class="score-label">Taxa de Acerto</div>
                        </div>
                        <div class="score-item">
                            <div class="score-value" id="level">üåü</div>
                            <div class="score-label">N√≠vel</div>
                        </div>
                    </div>
                </div>
                
                <!-- Bot√µes para download (inicialmente escondidos) -->
                <div id="downloadButtons" class="button-container" style="display: none;">
                    <button id="downloadPdfBtn" class="download-pdf-btn">
                        <i class="fas fa-download"></i> Baixar PDF ABC da Matem√°tica
                    </button>
                    <button id="downloadStatsBtn" class="download-stats-btn">
                        <i class="fas fa-chart-bar"></i> Gerar Estat√≠sticas
                    </button>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Projeto Integrador IV - Univesp | Aprendendo Matem√°tica com Divers√£o</p>
            <p>Desenvolvido para estudantes do 5¬∫ Ano do Ensino Fundamental Anos Iniciais</p>
        </footer>
    </div>
    
    <!-- Modal Sobre o Jogo -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <span class="close-modal" id="closeProject">&times;</span>
            <h2 class="modal-title">üéÆ Sobre o Jogo</h2>
            <p class="modal-text">Este jogo foi criado por alunos de Licenciatura em Matem√°tica da Universidade Virtual do Estado de S√£o Paulo - UNIVESP, especialmente para <strong>alunos do 5¬∫ ano</strong> aprenderem matem√°tica de forma divertida!</p>
            
            <div class="unit-theme">
                <p><strong>Objetivo:</strong> Aprender matem√°tica brincando! Cada desafio ensina um conte√∫do importante do 5¬∫ ano.</p>
            </div>
            
            <p class="modal-text"><strong>Para quem √©:</strong> Para crian√ßas que querem aprender matem√°tica de um jeito legal e interativo.</p>
            
            <p class="modal-text"><strong>Como funciona:</strong> Voc√™ escolhe um desafio, responde perguntas e ganha pontos! Quanto mais desafios completar, mais estrelas voc√™ ganha!</p>
            
            <p class="modal-text"><strong>O que voc√™ vai aprender:</strong> N√∫meros, fra√ß√µes, geometria, medidas e muito mais!</p>
            
            <div class="unit-theme" style="background-color: #fff3e0; border-left-color: #ff9800;">
                <p><strong>Dica do professor:</strong> "A matem√°tica est√° em tudo! Brincar com n√∫meros ajuda a entender melhor o mundo ao nosso redor."</p>
            </div>
        </div>
    </div>
    
    <!-- Modal Desafios -->
    <div class="modal" id="skillsModal">
        <div class="modal-content">
            <span class="close-modal" id="closeSkills">&times;</span>
            <h2 class="modal-title">üéØ 25 Desafios Matem√°ticos</h2>
            <p class="modal-text">Complete todos os desafios para virar um mestre da matem√°tica!</p>
            
            <ul class="skills-list">
                <li><span class="skill-code-modal">Desafio 01</span> Ler e escrever n√∫meros grandes</li>
                <li><span class="skill-code-modal">Desafio 02</span> Trabalhar com n√∫meros decimais</li>
                <li><span class="skill-code-modal">Desafio 03</span> Entender fra√ß√µes</li>
                <li><span class="skill-code-modal">Desafio 04</span> Encontrar fra√ß√µes iguais</li>
                <li><span class="skill-code-modal">Desafio 05</span> Comparar n√∫meros decimais e fra√ß√µes</li>
                <li><span class="skill-code-modal">Desafio 06</span> Calcular porcentagens</li>
                <li><span class="skill-code-modal">Desafio 07</span> Resolver problemas de soma e subtra√ß√£o</li>
                <li><span class="skill-code-modal">Desafio 08</span> Resolver problemas de multiplica√ß√£o e divis√£o</li>
                <li><span class="skill-code-modal">Desafio 09</span> Fazer contagens diferentes</li>
                <li><span class="skill-code-modal">Desafio 10</span> Compreender igualdades matem√°ticas</li>
                <li><span class="skill-code-modal">Desafio 11</span> Descobrir n√∫meros desconhecidos</li>
                <li><span class="skill-code-modal">Desafio 12</span> Trabalhar com propor√ß√µes</li>
                <li><span class="skill-code-modal">Desafio 13</span> Dividir quantidades de forma justa</li>
                <li><span class="skill-code-modal">Desafio 14</span> Localizar objetos no plano</li>
                <li><span class="skill-code-modal">Desafio 15</span> Usar coordenadas no plano cartesiano</li>
                <li><span class="skill-code-modal">Desafio 16</span> Reconhecer formas espaciais</li>
                <li><span class="skill-code-modal">Desafio 17</span> Identificar pol√≠gonos</li>
                <li><span class="skill-code-modal">Desafio 18</span> Ampliar e reduzir figuras</li>
                <li><span class="skill-code-modal">Desafio 19</span> Trabalhar com medidas</li>
                <li><span class="skill-code-modal">Desafio 20</span> Comparar per√≠metros e √°reas</li>
                <li><span class="skill-code-modal">Desafio 21</span> Calcular volumes</li>
                <li><span class="skill-code-modal">Desafio 22</span> Analisar chances e probabilidades</li>
                <li><span class="skill-code-modal">Desafio 23</span> Calcular probabilidades</li>
                <li><span class="skill-code-modal">Desafio 24</span> Interpretar gr√°ficos e tabelas</li>
                <li><span class="skill-code-modal">Desafio 25</span> Organizar dados de pesquisa</li>
            </ul>
        </div>
    </div>
    
    <!-- Modal Conte√∫dos -->
    <div class="modal" id="reviewModal">
        <div class="modal-content">
            <span class="close-modal" id="closeReview">&times;</span>
            <h2 class="modal-title">üìö Conte√∫dos do 5¬∫ Ano</h2>
            
            <div class="unit-theme">
                <div class="unit-title">üî¢ N√∫meros</div>
                <p><strong>O que voc√™ vai aprender:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>N√∫meros grandes (at√© centenas de milhar)</li>
                    <li>N√∫meros decimais (com v√≠rgula)</li>
                    <li>Fra√ß√µes (partes de um todo)</li>
                    <li>Porcentagens (%, como em descontos)</li>
                    <li>Opera√ß√µes (soma, subtra√ß√£o, multiplica√ß√£o, divis√£o)</li>
                </ul>
            </div>
            
            <div class="unit-theme">
                <div class="unit-title">‚öñÔ∏è √Ålgebra</div>
                <p><strong>O que voc√™ vai aprender:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Igualdades (quando duas coisas s√£o iguais)</li>
                    <li>Propor√ß√µes (rela√ß√µes entre quantidades)</li>
                    <li>Divis√£o em partes diferentes</li>
                </ul>
            </div>
            
            <div class="unit-theme">
                <div class="unit-title">üî∫ Geometria</div>
                <p><strong>O que voc√™ vai aprender:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Plano cartesiano (coordenadas)</li>
                    <li>Formas espaciais (cubo, pir√¢mide, etc.)</li>
                    <li>Pol√≠gonos (tri√¢ngulo, quadrado, etc.)</li>
                    <li>Amplia√ß√£o e redu√ß√£o de figuras</li>
                </ul>
            </div>
            
            <div class="unit-theme">
                <div class="unit-title">üìè Medidas</div>
                <p><strong>O que voc√™ vai aprender:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Comprimento, √°rea, massa, tempo</li>
                    <li>Per√≠metros e √°reas de figuras</li>
                    <li>Volume (espa√ßo que ocupa)</li>
                </ul>
            </div>
            
            <div class="unit-theme">
                <div class="unit-title">üìä Probabilidade e Estat√≠stica</div>
                <p><strong>O que voc√™ vai aprender:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Chances (probabilidade)</li>
                    <li>Gr√°ficos e tabelas</li>
                    <li>Organiza√ß√£o de dados</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Modal Revis√£o Te√≥rica -->
    <div class="modal" id="theoryModal">
        <div class="modal-content">
            <span class="close-modal" id="closeTheory">&times;</span>
            <h2 class="modal-title">üß† Revis√£o Te√≥rica</h2>
            <p class="modal-text">Entenda os conceitos por tr√°s de cada desafio:</p>
            
            <select id="theorySelector" class="theory-selector">
                <option value="-1">Selecione um desafio para ver a teoria</option>
                <!-- Op√ß√µes ser√£o preenchidas via JavaScript -->
            </select>
            
            <div id="theoryContent" class="theory-content-container">
                <div style="text-align: center; padding: 40px 20px; color: #666;">
                    <i class="fas fa-lightbulb" style="font-size: 3rem; margin-bottom: 15px; color: #ddd;"></i>
                    <p>Selecione um desafio acima para aprender a teoria por tr√°s dele!</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Como Jogar -->
    <div class="modal" id="rulesModal">
        <div class="modal-content">
            <span class="close-modal" id="closeRules">&times;</span>
            <h2 class="modal-title">üé≤ Como Jogar</h2>
            
            <p class="modal-text">Bem-vindo ao ABC da Matem√°tica! Siga estes passos para come√ßar a divers√£o:</p>
            
            <div class="unit-theme">
                <h3 style="color: #4a6bff; margin-bottom: 10px;">Passo a Passo:</h3>
                <ol style="margin-left: 20px; line-height: 1.6;">
                    <li><strong>Escolha um desafio</strong> clicando em um dos cart√µes coloridos</li>
                    <li><strong>Leia a pergunta</strong> com aten√ß√£o</li>
                    <li><strong>Clique na resposta</strong> que voc√™ acha correta</li>
                    <li><strong>Confirme sua resposta</strong> clicando no bot√£o "Responder"</li>
                    <li><strong>Veja se acertou</strong> e leia a explica√ß√£o</li>
                    <li><strong>Passe para a pr√≥xima pergunta</strong> at√© completar o desafio!</li>
                </ol>
            </div>
            
            <p class="modal-text"><strong>N√≠veis de Jogador:</strong></p>
            <ul style="margin-left: 20px; line-height: 1.6;">
                <li><strong>üåü Iniciante:</strong> 0-8 desafios completados</li>
                <li><strong>üåüüåü Intermedi√°rio:</strong> 9-16 desafios completados</li>
                <li><strong>üåüüåüüåü Avan√ßado:</strong> 17-24 desafios completados</li>
                <li><strong>üåüüåüüåüüåü Mestre:</strong> 25 desafios completados</li>
            </ul>
            
            <p class="modal-text"><strong>Dicas para jogar bem:</strong></p>
            <ul class="skills-list">
                <li>Leia cada pergunta com calma antes de responder</li>
                <li>Use papel e l√°pis para fazer c√°lculos se precisar</li>
                <li>Se errar, n√£o desanime! Aprenda com o erro</li>
                <li>Divirta-se! A matem√°tica pode ser muito legal</li>
            </ul>
            
            <div class="unit-theme" style="background-color: #e8f5e9; border-left-color: #4caf50;">
                <p><strong>Lembre-se:</strong> Cada erro √© uma oportunidade de aprender algo novo! Continue tentando!</p>
            </div>
        </div>
    </div>
    
    <!-- Modal Dicas -->
    <div class="modal" id="moreModal">
        <div class="modal-content">
            <span class="close-modal" id="closeMore">&times;</span>
            <h2 class="modal-title">üí° Dicas para Aprender Matem√°tica</h2>
            
            <p class="modal-text">Aprender matem√°tica pode ser divertido! Aqui est√£o algumas dicas:</p>
            
            <div class="unit-theme">
                <h3 style="color: #4a6bff; margin-bottom: 10px;">Atividades Divertidas:</h3>
                <ul style="margin-left: 20px; line-height: 1.6;">
                    <li><strong>Jogos de tabuleiro</strong> como Banco Imobili√°rio (ensina c√°lculos)</li>
                    <li><strong>Batalha naval</strong> (ensina coordenadas)</li>
                    <li><strong>Jogos de mem√≥ria</strong> com formas geom√©tricas</li>
                    <li><strong>Quebra-cabe√ßas</strong> e tangram</li>
                </ul>
            </div>
            
            <p class="modal-text"><strong>Matem√°tica no dia a dia:</strong></p>
            <ul class="skills-list">
                <li><strong>Nas compras:</strong> Calcular troco, comparar pre√ßos, calcular descontos</li>
                <li><strong>Na cozinha:</strong> Medir ingredientes, dividir receitas</li>
                <li><strong>No tempo:</strong> Calcular horas, minutos, planejar hor√°rios</li>
                <li><strong>Nos esportes:</strong> Marcar pontos, calcular m√©dias</li>
            </ul>
            
            <div class="unit-theme" style="background-color: #fff3e0; border-left-color: #ff9800;">
                <p><strong>Para pais e professores:</strong> Este jogo pode ser usado em sala de aula ou em casa para refor√ßar os conceitos aprendidos na escola. Incentive as crian√ßas a explicarem como chegaram nas respostas!</p>
            </div>
        </div>
    </div>
    
    <!-- Modal do Jogo (ser√° preenchido dinamicamente) -->
    <div class="modal" id="gameModal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="close-modal" id="closeGame">&times;</span>
            <h2 class="modal-title" id="gameTopicTitle">Desafio Matem√°tico</h2>
            <p id="skillCodeDisplay" style="color: #666; margin-bottom: 15px; font-size: 1.1rem;"></p>
            <p id="questionCounter" style="color: #4a6bff; font-weight: bold; margin-bottom: 20px; font-size: 1.2rem;"></p>
            
            <div id="gameContent">
                <!-- Conte√∫do do jogo ser√° inserido aqui via JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Elementos dos modais
        const projectModal = document.getElementById('projectModal');
        const skillsModal = document.getElementById('skillsModal');
        const reviewModal = document.getElementById('reviewModal');
        const theoryModal = document.getElementById('theoryModal');
        const rulesModal = document.getElementById('rulesModal');
        const moreModal = document.getElementById('moreModal');
        const gameModal = document.getElementById('gameModal');
        
        // Bot√µes para abrir modais
        const projectBtn = document.getElementById('projectBtn');
        const skillsBtn = document.getElementById('skillsBtn');
        const reviewBtn = document.getElementById('reviewBtn');
        const theoryBtn = document.getElementById('theoryBtn');
        const rulesBtn = document.getElementById('rulesBtn');
        const moreBtn = document.getElementById('moreBtn');
        const resetBtn = document.getElementById('resetBtn');
        const downloadPdfBtn = document.getElementById('downloadPdfBtn');
        const downloadStatsBtn = document.getElementById('downloadStatsBtn');
        const downloadButtons = document.getElementById('downloadButtons');
        
        // Bot√µes para fechar modais
        const closeProject = document.getElementById('closeProject');
        const closeSkills = document.getElementById('closeSkills');
        const closeReview = document.getElementById('closeReview');
        const closeTheory = document.getElementById('closeTheory');
        const closeRules = document.getElementById('closeRules');
        const closeMore = document.getElementById('closeMore');
        const closeGame = document.getElementById('closeGame');
        
        // Elementos do placar e progresso
        const correctCount = document.getElementById('correctCount');
        const attemptCount = document.getElementById('attemptCount');
        const percentage = document.getElementById('percentage');
        const level = document.getElementById('level');
        const globalProgress = document.getElementById('globalProgress');
        const completedCount = document.getElementById('completedCount');
        const skillsGrid = document.getElementById('skillsGrid');
        
        // Elementos da Revis√£o Te√≥rica
        const theorySelector = document.getElementById('theorySelector');
        const theoryContent = document.getElementById('theoryContent');
        
        // Sistema de √°udio
        let audioContext;
        let isAudioEnabled = true;
        
        // Inicializar sistema de √°udio
        function initAudioSystem() {
            try {
                // Criar contexto de √°udio
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                console.log("Sistema de √°udio inicializado com sucesso!");
                
                // Verificar se o usu√°rio j√° interagiu com a p√°gina
                document.addEventListener('click', function enableAudio() {
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }
                    // Remover o listener ap√≥s o primeiro clique
                    document.removeEventListener('click', enableAudio);
                }, { once: true });
            } catch (error) {
                console.log("Sistema de √°udio n√£o dispon√≠vel:", error);
                isAudioEnabled = false;
            }
        }
        
        // Fun√ß√µes de gera√ß√£o de sons
        function playSuccessSound() {
            if (!isAudioEnabled || !audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // D√≥
                oscillator.frequency.exponentialRampToValueAtTime(659.25, audioContext.currentTime + 0.3); // Mi
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (error) {
                console.log("Erro ao tocar som de sucesso:", error);
            }
        }
        
        function playErrorSound() {
            if (!isAudioEnabled || !audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(220, audioContext.currentTime); // L√° baixo
                oscillator.frequency.exponentialRampToValueAtTime(110, audioContext.currentTime + 0.5); // L√° mais baixo
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (error) {
                console.log("Erro ao tocar som de erro:", error);
            }
        }
        
        function playVictorySound() {
            if (!isAudioEnabled || !audioContext) return;
            
            try {
                // Sequ√™ncia de notas para vit√≥ria
                const notes = [523.25, 659.25, 783.99, 1046.50]; // D√≥, Mi, Sol, D√≥ alto
                const duration = 0.15;
                
                notes.forEach((frequency, index) => {
                    setTimeout(() => {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                        
                        gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                        
                        oscillator.start();
                        oscillator.stop(audioContext.currentTime + duration);
                    }, index * 150);
                });
            } catch (error) {
                console.log("Erro ao tocar som de vit√≥ria:", error);
            }
        }
        
        function playFireworksSound() {
            if (!isAudioEnabled || !audioContext) return;
            
            try {
                // Criar v√°rios sons de fogos de artif√≠cio
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        // Criar oscilador principal
                        const oscillator1 = audioContext.createOscillator();
                        const gainNode1 = audioContext.createGain();
                        
                        oscillator1.connect(gainNode1);
                        gainNode1.connect(audioContext.destination);
                        
                        oscillator1.type = 'square';
                        oscillator1.frequency.setValueAtTime(800 + Math.random() * 400, audioContext.currentTime);
                        oscillator1.frequency.exponentialRampToValueAtTime(200 + Math.random() * 200, audioContext.currentTime + 0.5);
                        
                        gainNode1.gain.setValueAtTime(0.05, audioContext.currentTime);
                        gainNode1.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                        
                        oscillator1.start();
                        oscillator1.stop(audioContext.currentTime + 0.5);
                        
                        // Criar oscilador secund√°rio para efeito de explos√£o
                        const oscillator2 = audioContext.createOscillator();
                        const gainNode2 = audioContext.createGain();
                        
                        oscillator2.connect(gainNode2);
                        gainNode2.connect(audioContext.destination);
                        
                        oscillator2.type = 'sawtooth';
                        oscillator2.frequency.setValueAtTime(300 + Math.random() * 300, audioContext.currentTime);
                        oscillator2.frequency.exponentialRampToValueAtTime(100 + Math.random() * 100, audioContext.currentTime + 0.3);
                        
                        gainNode2.gain.setValueAtTime(0.03, audioContext.currentTime);
                        gainNode2.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
                        
                        oscillator2.start();
                        oscillator2.stop(audioContext.currentTime + 0.3);
                        
                    }, i * 150);
                }
            } catch (error) {
                console.log("Erro ao tocar som de fogos:", error);
            }
        }
        
        // Dados das 25 habilidades
        const skillsData = [
            {
                code: "Desafio 01",
                title: "N√∫meros Grandes",
                description: "Ler e escrever n√∫meros at√© centenas de milhar",
                icon: "fas fa-sort-numeric-down",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: N√∫meros Grandes</h3>
                        <p class="theory-explanation">N√∫meros grandes s√£o n√∫meros com muitos algarismos. No 5¬∫ ano, aprendemos a ler e escrever n√∫meros at√© centenas de milhar (at√© 999.999).</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p>Os n√∫meros s√£o organizados em classes e ordens:</p>
                            <ul>
                                <li><strong>Unidades:</strong> unidades, dezenas, centenas</li>
                                <li><strong>Milhares:</strong> unidades de milhar, dezenas de milhar, centenas de milhar</li>
                            </ul>
                            <p><strong>Exemplo:</strong> 345.678 = 3 centenas de milhar + 4 dezenas de milhar + 5 unidades de milhar + 6 centenas + 7 dezenas + 8 unidades</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Pontos importantes:</div>
                            <ul>
                                <li>Use ponto para separar as classes (milhares)</li>
                                <li>Leia primeiro as centenas de milhar</li>
                                <li>N√£o use "e" entre as classes</li>
                                <li>345.678 = trezentos e quarenta e cinco mil, seiscentos e setenta e oito</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Como se l√™ o n√∫mero 345.678?",
                        options: ["Trinta e quatro mil, quinhentos e sessenta e oito", "Trezentos e quarenta e cinco mil, seiscentos e setenta e oito", "Tr√™s milh√µes, quarenta e cinco mil, seiscentos e setenta e oito", "Trezentos e quarenta e cinco mil e setecentos e oitenta"],
                        correct: 1,
                        explanation: "345.678 se l√™: Trezentos e quarenta e cinco mil, seiscentos e setenta e oito."
                    },
                    {
                        question: "Qual n√∫mero √© maior: 125.430 ou 125.403?",
                        options: ["125.430", "125.403", "S√£o iguais", "N√£o d√° para saber"],
                        correct: 0,
                        explanation: "125.430 √© maior porque na casa das dezenas tem 30, enquanto 125.403 tem apenas 03."
                    },
                    {
                        question: "Escreva por extenso: 78.905",
                        options: ["Setenta e oito mil e novecentos e cinco", "Sete mil, oitocentos e noventa e cinco", "Setenta e oito mil, novecentos e cinco", "Sete milh√µes, oitocentos e noventa e cinco"],
                        correct: 2,
                        explanation: "78.905 se escreve: Setenta e oito mil, novecentos e cinco."
                    }
                ]
            },
            {
                code: "Desafio 02",
                title: "N√∫meros Decimais",
                description: "Trabalhar com n√∫meros que t√™m v√≠rgula",
                icon: "fas fa-decimal",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: N√∫meros Decimais</h3>
                        <p class="theory-explanation">N√∫meros decimais s√£o n√∫meros que t√™m parte inteira e parte decimal, separadas por v√≠rgula. Eles representam quantidades que n√£o s√£o inteiras.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Partes de um n√∫mero decimal:</div>
                            <p><strong>3,45</strong> tem:</p>
                            <ul>
                                <li><strong>Parte inteira:</strong> 3 (antes da v√≠rgula)</li>
                                <li><strong>Parte decimal:</strong> 45 (depois da v√≠rgula)</li>
                                <li><strong>L√™-se:</strong> "tr√™s inteiros e quarenta e cinco cent√©simos"</li>
                            </ul>
                            <p>Os n√∫meros decimais podem representar: dinheiro (R$ 3,45), medidas (1,5 metros), pesos (2,3 kg), etc.</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Comparando n√∫meros decimais:</div>
                            <ul>
                                <li>Compare primeiro a parte inteira</li>
                                <li>Se as partes inteiras forem iguais, compare os d√©cimos</li>
                                <li>Se os d√©cimos forem iguais, compare os cent√©simos</li>
                                <li><strong>Exemplo:</strong> 2,3 √© maior que 2,03 porque 3 d√©cimos > 0 d√©cimos</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Como se l√™ o n√∫mero 3,45?",
                        options: ["Tr√™s v√≠rgula quarenta e cinco", "Tr√™s inteiros e quarenta e cinco cent√©simos", "Trezentos e quarenta e cinco", "Tr√™s e quarenta e cinco"],
                        correct: 1,
                        explanation: "3,45 se l√™: Tr√™s inteiros e quarenta e cinco cent√©simos."
                    },
                    {
                        question: "Qual n√∫mero √© menor: 2,3; 2,03 ou 2,33?",
                        options: ["2,3", "2,03", "2,33", "Todos s√£o iguais"],
                        correct: 1,
                        explanation: "2,03 √© o menor porque depois da v√≠rgula tem 03, que √© menor que 30 (2,3) e 33 (2,33)."
                    },
                    {
                        question: "Qual √© a forma decimal de sete inteiros e oito d√©cimos?",
                        options: ["7,8", "7,08", "0,78", "78,0"],
                        correct: 0,
                        explanation: "Sete inteiros e oito d√©cimos √© representado por 7,8."
                    }
                ]
            },
            {
                code: "Desafio 03",
                title: "Fra√ß√µes",
                description: "Entender partes de um todo",
                icon: "fas fa-pizza-slice",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Fra√ß√µes</h3>
                        <p class="theory-explanation">Fra√ß√µes representam partes de um todo. Elas s√£o escritas como dois n√∫meros separados por uma linha: o numerador (partes que temos) e o denominador (partes totais).</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Exemplo pr√°tico:</div>
                            <p>Uma pizza dividida em 8 peda√ßos:</p>
                            <ul>
                                <li><strong>3/8</strong> = comi 3 peda√ßos de 8</li>
                                <li><strong>5/8</strong> = sobram 5 peda√ßos de 8</li>
                                <li><strong>8/8</strong> = pizza inteira</li>
                            </ul>
                            <p><strong>Tipos de fra√ß√µes:</strong></p>
                            <ul>
                                <li><strong>Pr√≥pria:</strong> numerador menor que denominador (3/8)</li>
                                <li><strong>Impr√≥pria:</strong> numerador maior que denominador (7/6)</li>
                                <li><strong>Aparente:</strong> numerador m√∫ltiplo do denominador (8/8 = 1)</li>
                            </ul>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Conceitos importantes:</div>
                            <ul>
                                <li>Denominador mostra em quantas partes o todo foi dividido</li>
                                <li>Numerador mostra quantas partes estamos considerando</li>
                                <li>Uma fra√ß√£o pode representar mais que um inteiro (7/6 = 1 inteiro e 1/6)</li>
                                <li>Fra√ß√µes podem representar: partes de objetos, divis√£o de quantidades, probabilidades</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Em uma pizza dividida em 8 peda√ßos, comi 3. Qual fra√ß√£o representa o que comi?",
                        options: ["3/8", "5/8", "8/3", "1/3"],
                        correct: 0,
                        explanation: "3 peda√ßos de 8 √© representado pela fra√ß√£o 3/8."
                    },
                    {
                        question: "Qual destas fra√ß√µes √© maior que um inteiro?",
                        options: ["3/4", "5/5", "7/6", "2/3"],
                        correct: 2,
                        explanation: "7/6 √© maior que 1 porque 7 √© maior que 6."
                    },
                    {
                        question: "Se divido uma barra de chocolate em 12 partes e como 5, qual fra√ß√£o representa o que comi?",
                        options: ["5/12", "7/12", "12/5", "5/7"],
                        correct: 0,
                        explanation: "5 partes de 12 √© representado pela fra√ß√£o 5/12."
                    }
                ]
            },
            {
                code: "Desafio 04",
                title: "Fra√ß√µes Equivalentes",
                description: "Encontrar fra√ß√µes que valem o mesmo",
                icon: "fas fa-balance-scale",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Fra√ß√µes Equivalentes</h3>
                        <p class="theory-explanation">Fra√ß√µes equivalentes s√£o fra√ß√µes diferentes que representam a mesma quantidade. Elas s√£o obtidas multiplicando ou dividindo o numerador e o denominador pelo mesmo n√∫mero.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como encontrar fra√ß√µes equivalentes:</div>
                            <p><strong>Multiplicando:</strong> 1/2 √ó 2/2 = 2/4 √ó 2/2 = 4/8</p>
                            <p>Todas representam a metade!</p>
                            <p><strong>Dividindo:</strong> 4/8 √∑ 4/4 = 1/2</p>
                            <p><strong>Regra:</strong> Se multiplicarmos ou dividirmos o numerador e o denominador pelo mesmo n√∫mero (diferente de zero), obtemos fra√ß√µes equivalentes.</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Simplifica√ß√£o de fra√ß√µes:</div>
                            <p>A fra√ß√£o mais simples (irredut√≠vel) √© aquela em que n√£o podemos mais dividir numerador e denominador por um mesmo n√∫mero.</p>
                            <ul>
                                <li><strong>Exemplo:</strong> 4/8 pode ser simplificada dividindo por 4: 4√∑4=1, 8√∑4=2 ‚Üí 1/2</li>
                                <li><strong>Outro exemplo:</strong> 9/15 pode ser simplificada dividindo por 3: 9√∑3=3, 15√∑3=5 ‚Üí 3/5</li>
                                <li>Fra√ß√µes equivalentes t√™m o mesmo valor decimal (1/2 = 2/4 = 0,5)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Qual fra√ß√£o √© igual a 1/2?",
                        options: ["2/4", "1/3", "3/4", "2/3"],
                        correct: 0,
                        explanation: "2/4 √© igual a 1/2 porque ambas representam a metade."
                    },
                    {
                        question: "Qual √© a fra√ß√£o igual a 3/5 com denominador 15?",
                        options: ["9/15", "12/15", "6/15", "3/15"],
                        correct: 0,
                        explanation: "3/5 = 9/15, porque 3√ó3=9 e 5√ó3=15."
                    },
                    {
                        question: "Qual destas N√ÉO √© igual a 1/2?",
                        options: ["2/4", "3/6", "4/8", "3/8"],
                        correct: 3,
                        explanation: "3/8 n√£o √© igual a 1/2, pois 1/2 seria igual a 4/8."
                    }
                ]
            },
            {
                code: "Desafio 05",
                title: "Comparar N√∫meros",
                description: "Comparar decimais e fra√ß√µes",
                icon: "fas fa-not-equal",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Comparando N√∫meros Decimais e Fra√ß√µes</h3>
                        <p class="theory-explanation">Para comparar n√∫meros decimais e fra√ß√µes, podemos converter fra√ß√µes em n√∫meros decimais ou vice-versa.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Convertendo fra√ß√µes em decimais:</div>
                            <p>Para converter uma fra√ß√£o em decimal, dividimos o numerador pelo denominador:</p>
                            <ul>
                                <li>1/2 = 1 √∑ 2 = 0,5</li>
                                <li>3/4 = 3 √∑ 4 = 0,75</li>
                                <li>2/3 = 2 √∑ 3 = 0,666...</li>
                            </ul>
                            <p><strong>Comparando:</strong></p>
                            <ul>
                                <li>0,5 (1/2) √© menor que 0,65</li>
                                <li>0,65 √© menor que 0,666... (2/3)</li>
                                <li>0,75 (3/4) √© maior que 0,666... (2/3)</li>
                            </ul>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas para compara√ß√£o:</div>
                            <ul>
                                <li>Converta todos para decimais (dividindo numerador por denominador)</li>
                                <li>Ou converta todos para fra√ß√µes com mesmo denominador</li>
                                <li>Para n√∫meros decimais: compare casa por casa (d√©cimos, cent√©simos...)</li>
                                <li>Lembre-se: 0,1 = 1/10, 0,01 = 1/100, 0,001 = 1/1000</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Qual n√∫mero √© maior: 0,75 ou 3/4?",
                        options: ["0,75", "3/4", "S√£o iguais", "N√£o sei"],
                        correct: 2,
                        explanation: "0,75 √© igual a 3/4, pois 3 dividido por 4 √© 0,75."
                    },
                    {
                        question: "Qual √© maior: 0,3 ou 1/3?",
                        options: ["0,3", "1/3", "S√£o iguais", "Depende"],
                        correct: 1,
                        explanation: "1/3 √© aproximadamente 0,333..., que √© maior que 0,3."
                    },
                    {
                        question: "Ordene do menor para o maior: 1/2; 0,65; 2/3",
                        options: ["1/2; 0,65; 2/3", "0,65; 2/3; 1/2", "1/2; 2/3; 0,65", "2/3; 0,65; 1/2"],
                        correct: 0,
                        explanation: "1/2 = 0,5; 0,65 = 0,65; 2/3 ‚âà 0,666... Ent√£o a ordem √©: 0,5 (1/2); 0,65; 0,666... (2/3)."
                    }
                ]
            },
            {
                code: "Desafio 06",
                title: "Porcentagens",
                description: "Calcular porcentagens como em descontos",
                icon: "fas fa-percentage",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Porcentagens</h3>
                        <p class="theory-explanation">Porcentagem significa "por cem". O s√≠mbolo % representa uma fra√ß√£o com denominador 100. √â muito usada em descontos, aumentos, pesquisas e probabilidades.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Convertendo porcentagens:</div>
                            <ul>
                                <li>25% = 25/100 = 1/4 = 0,25</li>
                                <li>50% = 50/100 = 1/2 = 0,5</li>
                                <li>75% = 75/100 = 3/4 = 0,75</li>
                                <li>100% = 100/100 = 1 = inteiro</li>
                            </ul>
                            <p><strong>Calculando porcentagens:</strong></p>
                            <p>Para calcular x% de uma quantidade, multiplique a quantidade por x/100.</p>
                            <p><strong>Exemplo:</strong> 20% de 80 = 80 √ó 20/100 = 80 √ó 0,2 = 16</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Aplica√ß√µes no dia a dia:</div>
                            <ul>
                                <li><strong>Descontos em compras:</strong> 30% de desconto = pagar 70% do pre√ßo</li>
                                <li><strong>Taxas de juros:</strong> 5% ao m√™s</li>
                                <li><strong>Resultados de pesquisas:</strong> 60% das pessoas preferem chocolate</li>
                                <li><strong>Probabilidades:</strong> 25% de chance de chover</li>
                            </ul>
                            <p><strong>Dica:</strong> 10% √© f√°cil de calcular - basta dividir por 10!</p>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "25% corresponde a qual fra√ß√£o?",
                        options: ["1/4", "1/2", "3/4", "1/10"],
                        correct: 0,
                        explanation: "25% = 25/100 = 1/4."
                    },
                    {
                        question: "Qual √© 50% de 80?",
                        options: ["20", "30", "40", "50"],
                        correct: 2,
                        explanation: "50% √© a metade, ent√£o 50% de 80 √© 40."
                    },
                    {
                        question: "Se 10% √© 1/10, quanto √© 75%?",
                        options: ["1/4", "1/2", "3/4", "4/5"],
                        correct: 2,
                        explanation: "75% = 75/100 = 3/4."
                    }
                ]
            },
            {
                code: "Desafio 07",
                title: "Soma e Subtra√ß√£o",
                description: "Resolver problemas com + e -",
                icon: "fas fa-plus-minus",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Soma e Subtra√ß√£o</h3>
                        <p class="theory-explanation">A soma (adi√ß√£o) e a subtra√ß√£o s√£o opera√ß√µes b√°sicas da matem√°tica. A soma junta quantidades, enquanto a subtra√ß√£o tira uma quantidade de outra.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Soma:</strong> 25 + 13 = 38 (vinte e cinco mais treze √© igual a trinta e oito)</p>
                            <p><strong>Subtra√ß√£o:</strong> 40 - 15 = 25 (quarenta menos quinze √© igual a vinte e cinco)</p>
                            <p><strong>Com n√∫meros decimais:</strong> Alinhe as v√≠rgulas!</p>
                            <ul>
                                <li>3,45 + 1,20 = 4,65</li>
                                <li>5,00 - 2,75 = 2,25</li>
                            </ul>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Na soma: comece pelas unidades, depois dezenas, centenas...</li>
                                <li>Na subtra√ß√£o: se n√£o tiver unidades suficientes, "pegue emprestado" da ordem maior</li>
                                <li>Com v√≠rgulas: alinhe as v√≠rgulas para somar ou subtrair corretamente</li>
                                <li>Verifique: fa√ßa a opera√ß√£o inversa para conferir (soma ‚Üí subtra√ß√£o, subtra√ß√£o ‚Üí soma)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Jo√£o tinha R$ 45,50 e ganhou R$ 12,75. Com quanto ficou?",
                        options: ["R$ 57,25", "R$ 58,25", "R$ 57,50", "R$ 58,50"],
                        correct: 1,
                        explanation: "45,50 + 12,75 = 58,25."
                    },
                    {
                        question: "Uma corda de 3,75m foi cortada. Um peda√ßo tem 1,5m. Quanto mede o outro?",
                        options: ["2,15m", "2,25m", "2,35m", "2,45m"],
                        correct: 1,
                        explanation: "3,75 - 1,5 = 2,25m."
                    },
                    {
                        question: "Em uma escola h√° 348 alunos. Se 127 s√£o meninas, quantos s√£o meninos?",
                        options: ["221", "218", "228", "238"],
                        correct: 0,
                        explanation: "348 - 127 = 221 meninos."
                    }
                ]
            },
            {
                code: "Desafio 08",
                title: "Multiplica√ß√£o e Divis√£o",
                description: "Resolver problemas com √ó e √∑",
                icon: "fas fa-times-divide",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Multiplica√ß√£o e Divis√£o</h3>
                        <p class="theory-explanation">Multiplica√ß√£o √© uma soma repetida. Divis√£o √© repartir em partes iguais. S√£o opera√ß√µes inversas.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Multiplica√ß√£o:</strong> 4 √ó 3 = 4 + 4 + 4 = 12 (quatro vezes tr√™s)</p>
                            <p><strong>Divis√£o:</strong> 12 √∑ 3 = 4 (doze dividido por tr√™s √© quatro)</p>
                            <p><strong>Com n√∫meros decimais:</strong></p>
                            <ul>
                                <li>Multiplica√ß√£o: conte as casas decimais (2,5 √ó 3 = 7,5)</li>
                                <li>Divis√£o: mova a v√≠rgula (8,4 √∑ 2 = 4,2)</li>
                            </ul>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Na multiplica√ß√£o: pratique a tabuada!</li>
                                <li>Na divis√£o: pense "quantas vezes cabe?"</li>
                                <li>Com v√≠rgulas: na multiplica√ß√£o, some as casas decimais dos fatores</li>
                                <li>Na divis√£o por decimal, multiplique ambos por 10, 100, etc., para eliminar v√≠rgulas</li>
                                <li>Verifique: multiplica√ß√£o ‚Üí divis√£o, divis√£o ‚Üí multiplica√ß√£o</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Se 1kg de ma√ß√£ custa R$ 4,80, quanto custam 2,5kg?",
                        options: ["R$ 10,00", "R$ 11,00", "R$ 12,00", "R$ 12,50"],
                        correct: 2,
                        explanation: "4,80 √ó 2,5 = 12,00."
                    },
                    {
                        question: "Divida 8,4 por 2.",
                        options: ["4,0", "4,1", "4,2", "4,4"],
                        correct: 2,
                        explanation: "8,4 √∑ 2 = 4,2."
                    },
                    {
                        question: "Uma caixa tem 24 chocolates para 6 crian√ßas. Quantos cada uma recebe?",
                        options: ["3", "4", "5", "6"],
                        correct: 1,
                        explanation: "24 √∑ 6 = 4 chocolates por crian√ßa."
                    }
                ]
            },
            {
                code: "Desafio 09",
                title: "Contagem",
                description: "Fazer contagens diferentes",
                icon: "fas fa-calculator",
                category: "N√∫meros",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Contagem</h3>
                        <p class="theory-explanation">A contagem envolve diferentes formas de organizar e combinar elementos. Usamos o Princ√≠pio Fundamental da Contagem.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Princ√≠pio Fundamental da Contagem:</strong> Se um evento pode ocorrer de m maneiras e outro de n maneiras, ent√£o os dois juntos podem ocorrer de m √ó n maneiras.</p>
                            <p><strong>Exemplo:</strong> Com 3 camisetas e 2 cal√ßas:</p>
                            <p>3 √ó 2 = 6 combina√ß√µes diferentes</p>
                            <p><strong>Arranjos com repeti√ß√£o:</strong> Para formar n√∫meros de 2 d√≠gitos com 1, 2, 3:</p>
                            <p>3 op√ß√µes para o primeiro √ó 3 op√ß√µes para o segundo = 9 n√∫meros</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Para combina√ß√µes: multiplique as possibilidades de cada escolha</li>
                                <li>Para n√∫meros: lembre que o primeiro d√≠gito n√£o pode ser zero (se for n√∫mero)</li>
                                <li>Desenhe diagramas de √°rvore para visualizar as op√ß√µes</li>
                                <li>Use listas organizadas para n√£o esquecer combina√ß√µes</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Tenho 3 camisetas e 2 cal√ßas. Quantas combina√ß√µes diferentes posso fazer?",
                        options: ["5", "6", "8", "9"],
                        correct: 1,
                        explanation: "3 √ó 2 = 6 combina√ß√µes diferentes."
                    },
                    {
                        question: "Num restaurante h√° 4 pratos principais e 3 sobremesas. Quantas combina√ß√µes s√£o poss√≠veis?",
                        options: ["7", "12", "16", "24"],
                        correct: 1,
                        explanation: "4 √ó 3 = 12 combina√ß√µes poss√≠veis."
                    },
                    {
                        question: "Quantos n√∫meros de 2 algarismos posso formar com 1, 2, 3 (podendo repetir)?",
                        options: ["6", "9", "12", "15"],
                        correct: 1,
                        explanation: "3 op√ß√µes para o primeiro algarismo √ó 3 para o segundo = 9 n√∫meros."
                    }
                ]
            },
            {
                code: "Desafio 10",
                title: "Igualdades",
                description: "Compreender quando coisas s√£o iguais",
                icon: "fas fa-equals",
                category: "√Ålgebra",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Igualdades Matem√°ticas</h3>
                        <p class="theory-explanation">Uma igualdade √© uma afirma√ß√£o de que duas express√µes t√™m o mesmo valor. O sinal = significa "√© igual a".</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Propriedade da igualdade:</strong> Se a = b, ent√£o:</p>
                            <ul>
                                <li>a + c = b + c (somar o mesmo n√∫mero em ambos os lados)</li>
                                <li>a - c = b - c (subtrair o mesmo n√∫mero)</li>
                                <li>a √ó c = b √ó c (multiplicar pelo mesmo n√∫mero)</li>
                                <li>a √∑ c = b √∑ c (dividir pelo mesmo n√∫mero, c ‚â† 0)</li>
                            </ul>
                            <p><strong>Exemplo:</strong> Se x = 7, ent√£o x + 3 = 7 + 3 = 10</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>O que fazemos de um lado da igualdade, fazemos do outro</li>
                                <li>Para resolver equa√ß√µes: isole a inc√≥gnita (letra) usando opera√ß√µes inversas</li>
                                <li>Verifique substituindo o valor encontrado na equa√ß√£o original</li>
                                <li>Uma igualdade √© como uma balan√ßa em equil√≠brio</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Se a = b, ent√£o a + 5 = ?",
                        options: ["b", "b + 5", "5", "a + b"],
                        correct: 1,
                        explanation: "Se a = b, ent√£o a + 5 = b + 5."
                    },
                    {
                        question: "Se 2x = 10, quanto vale x?",
                        options: ["2", "4", "5", "10"],
                        correct: 2,
                        explanation: "2x = 10 ‚Üí x = 10 √∑ 2 = 5."
                    },
                    {
                        question: "Se a = 7, qual √© o valor de a + 3?",
                        options: ["7", "10", "21", "73"],
                        correct: 1,
                        explanation: "a + 3 = 7 + 3 = 10."
                    }
                ]
            },
            {
                code: "Desafio 11",
                title: "N√∫meros Desconhecidos",
                description: "Descobrir n√∫meros escondidos",
                icon: "fas fa-search",
                category: "√Ålgebra",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: N√∫meros Desconhecidos (Equa√ß√µes)</h3>
                        <p class="theory-explanation">Em matem√°tica, usamos letras (como x, y) para representar n√∫meros desconhecidos. Encontrar o valor dessas letras √© resolver uma equa√ß√£o.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como resolver:</div>
                            <p><strong>Passo a passo:</strong></p>
                            <ol>
                                <li>Identifique o que est√° sendo perguntado (o n√∫mero desconhecido)</li>
                                <li>Escreva a equa√ß√£o com base no enunciado</li>
                                <li>Use opera√ß√µes inversas para isolar a inc√≥gnita</li>
                                <li>Verifique se a resposta faz sentido</li>
                            </ol>
                            <p><strong>Exemplo:</strong> "Pensei em um n√∫mero, somei 8 e obtive 15"</p>
                            <p>x + 8 = 15 ‚Üí x = 15 - 8 = 7</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Opera√ß√£o inversa da soma: subtra√ß√£o</li>
                                <li>Opera√ß√£o inversa da subtra√ß√£o: soma</li>
                                <li>Opera√ß√£o inversa da multiplica√ß√£o: divis√£o</li>
                                <li>Opera√ß√£o inversa da divis√£o: multiplica√ß√£o</li>
                                <li>Leia com aten√ß√£o: "a mais que b" = b + a, "a menos que b" = b - a</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Pensei em um n√∫mero, somei 8 e obtive 15. Em que n√∫mero pensei?",
                        options: ["5", "6", "7", "8"],
                        correct: 2,
                        explanation: "x + 8 = 15 ‚Üí x = 15 - 8 = 7."
                    },
                    {
                        question: "O triplo de um n√∫mero √© 21. Qual √© esse n√∫mero?",
                        options: ["5", "6", "7", "8"],
                        correct: 2,
                        explanation: "3x = 21 ‚Üí x = 21 √∑ 3 = 7."
                    },
                    {
                        question: "Se subtraio 12 de um n√∫mero, obtenho 25. Qual √© o n√∫mero?",
                        options: ["13", "27", "37", "47"],
                        correct: 2,
                        explanation: "x - 12 = 25 ‚Üí x = 25 + 12 = 37."
                    }
                ]
            },
            {
                code: "Desafio 12",
                title: "Propor√ß√µes",
                description: "Trabalhar com rela√ß√µes entre quantidades",
                icon: "fas fa-exchange-alt",
                category: "√Ålgebra",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Propor√ß√µes</h3>
                        <p class="theory-explanation">Propor√ß√£o √© uma igualdade entre duas raz√µes. Mostra que duas grandezas est√£o relacionadas de forma constante.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Raz√£o:</strong> compara√ß√£o entre dois n√∫meros (a:b ou a/b)</p>
                            <p><strong>Propor√ß√£o:</strong> igualdade entre duas raz√µes (a/b = c/d)</p>
                            <p><strong>Regra de tr√™s:</strong> para encontrar valores desconhecidos em propor√ß√µes</p>
                            <p><strong>Exemplo:</strong> Se 3 metros custam R$ 24, quanto custam 5 metros?</p>
                            <p>3m ‚Üí R$24, 1m ‚Üí R$8, 5m ‚Üí R$40</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Identifique se as grandezas s√£o direta ou inversamente proporcionais</li>
                                <li>Em regra de tr√™s direta: multiplique em cruz</li>
                                <li>Em problemas: organize os dados em duas colunas relacionadas</li>
                                <li>Verifique se a resposta faz sentido (pre√ßo maior para mais quantidade)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Se 1kg de arroz custa R$ 5,00, quanto custam 3kg?",
                        options: ["R$ 10,00", "R$ 12,00", "R$ 15,00", "R$ 18,00"],
                        correct: 2,
                        explanation: "1kg ‚Üí R$5, 3kg ‚Üí 3 √ó R$5 = R$15."
                    },
                    {
                        question: "Um carro percorre 60km com 5 litros. Quantos km percorrer√° com 15 litros?",
                        options: ["120km", "150km", "180km", "200km"],
                        correct: 2,
                        explanation: "5L ‚Üí 60km, 15L ‚Üí 3 √ó 60km = 180km."
                    },
                    {
                        question: "Se 3 metros de tecido custam R$ 24, quanto custam 5 metros?",
                        options: ["R$ 30", "R$ 35", "R$ 40", "R$ 45"],
                        correct: 2,
                        explanation: "1m custa R$24 √∑ 3 = R$8. 5m custam 5 √ó R$8 = R$40."
                    }
                ]
            },
            {
                code: "Desafio 13",
                title: "Divis√£o Justa",
                description: "Dividir coisas de forma desigual mas justa",
                icon: "fas fa-share-alt",
                category: "√Ålgebra",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Divis√£o Justa (Raz√£o e Propor√ß√£o)</h3>
                        <p class="theory-explanation">Dividir de forma justa significa distribuir quantidades de acordo com certas propor√ß√µes, que podem n√£o ser iguais, mas s√£o equitativas.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Divis√£o em partes proporcionais:</strong></p>
                            <ol>
                                <li>Some as partes totais (ex: 3 + 5 = 8 partes)</li>
                                <li>Divida o total pelas partes (ex: 48 √∑ 8 = 6 por parte)</li>
                                <li>Multiplique cada parte pelo valor unit√°rio</li>
                            </ol>
                            <p><strong>Exemplo:</strong> Dividir 48 na raz√£o 3:5</p>
                            <p>3k + 5k = 8k = 48 ‚Üí k = 6</p>
                            <p>Partes: 3√ó6 = 18 e 5√ó6 = 30</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Quando uma parte √© o dobro/triplo da outra: represente como x e 2x (ou 3x)</li>
                                <li>Some todas as partes para encontrar o valor de x</li>
                                <li>Verifique se a soma das partes d√° o total original</li>
                                <li>Em heran√ßas: aten√ß√£o √†s propor√ß√µes estabelecidas</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Divida 60 em duas partes onde uma √© o dobro da outra.",
                        options: ["20 e 40", "15 e 45", "25 e 35", "10 e 50"],
                        correct: 0,
                        explanation: "20 + 40 = 60 e 40 √© o dobro de 20."
                    },
                    {
                        question: "Tenho R$ 90 para dois filhos. O mais velho recebe o triplo do mais novo. Quanto cada um recebe?",
                        options: ["R$ 20 e R$ 70", "R$ 22,50 e R$ 67,50", "R$ 25 e R$ 65", "R$ 30 e R$ 60"],
                        correct: 1,
                        explanation: "Mais novo: x, mais velho: 3x. Total: x + 3x = 4x = 90 ‚Üí x = 22,50."
                    },
                    {
                        question: "Divida 48 em duas partes na raz√£o de 3 para 5.",
                        options: ["18 e 30", "16 e 32", "20 e 28", "15 e 33"],
                        correct: 0,
                        explanation: "Partes: 3k e 5k. Total: 3k + 5k = 8k = 48 ‚Üí k = 6. Partes: 18 e 30."
                    }
                ]
            },
            {
                code: "Desafio 14",
                title: "Localiza√ß√£o",
                description: "Localizar objetos no plano",
                icon: "fas fa-map-marker-alt",
                category: "Geometria",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Localiza√ß√£o no Plano</h3>
                        <p class="theory-explanation">Para localizar pontos em um plano, usamos coordenadas. O sistema mais comum √© o plano cartesiano, com eixos x (horizontal) e y (vertical).</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Coordenadas (x, y):</strong></p>
                            <ul>
                                <li>x: posi√ß√£o horizontal (esquerda/direita)</li>
                                <li>y: posi√ß√£o vertical (cima/baixo)</li>
                            </ul>
                            <p><strong>Exemplo:</strong> (4, 2) significa:</p>
                            <p>4 unidades para a direita e 2 unidades para cima</p>
                            <p><strong>Planilhas:</strong> Usam letras para colunas e n√∫meros para linhas</p>
                            <p>B3 = coluna B, linha 3</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Lembre: "x" vem antes de "y" no alfabeto</li>
                                <li>Primeiro vai a horizontal (x), depois a vertical (y)</li>
                                <li>Na planilha: letra=coluna, n√∫mero=linha</li>
                                <li>Para mover: positivo √† direita/cima, negativo √† esquerda/baixo</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "No plano cartesiano, (4, 2) significa:",
                        options: ["4 direita e 2 cima", "4 esquerda e 2 cima", "2 direita e 4 cima", "4 direita e 2 baixo"],
                        correct: 0,
                        explanation: "Primeiro n√∫mero: direita/esquerda, segundo: cima/baixo."
                    },
                    {
                        question: "Em uma planilha, a c√©lula B3 est√°:",
                        options: ["Coluna B, linha 3", "Coluna 3, linha B", "Na interse√ß√£o B e 3", "Todas as anteriores est√£o corretas"],
                        correct: 3,
                        explanation: "B3 est√° na coluna B (segunda) e linha 3 (terceira), que √© a interse√ß√£o da coluna B com a linha 3."
                    },
                    {
                        question: "O ponto (3, 1) est√°:",
                        options: ["3 direita e 1 cima", "3 cima e 1 direita", "3 esquerda e 1 baixo", "3 baixo e 1 esquerda"],
                        correct: 0,
                        explanation: "(3, 1) = 3 unidades para a direita e 1 para cima."
                    }
                ]
            },
            {
                code: "Desafio 15",
                title: "Coordenadas",
                description: "Usar coordenadas no plano cartesiano",
                icon: "fas fa-map",
                category: "Geometria",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Coordenadas no Plano Cartesiano</h3>
                        <p class="theory-explanation">O plano cartesiano √© dividido em 4 quadrantes por dois eixos perpendiculares. Cada ponto tem um par ordenado (x, y).</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Quadrantes:</strong></p>
                            <ol>
                                <li>1¬∫: x positivo, y positivo (ex: 2, 3)</li>
                                <li>2¬∫: x negativo, y positivo (ex: -2, 3)</li>
                                <li>3¬∫: x negativo, y negativo (ex: -2, -3)</li>
                                <li>4¬∫: x positivo, y negativo (ex: 2, -3)</li>
                            </ol>
                            <p><strong>Movimenta√ß√£o:</strong></p>
                            <p>De (2, 3) para (4, 2):</p>
                            <p>x: 2‚Üí4 (+2 direita), y: 3‚Üí2 (-1 baixo)</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Para calcular movimento: novo x - antigo x, novo y - antigo y</li>
                                <li>Resultado positivo: direita (x) ou cima (y)</li>
                                <li>Resultado negativo: esquerda (x) ou baixo (y)</li>
                                <li>Origem: ponto (0, 0) onde os eixos se cruzam</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Um ponto sai de (2, 3) e vai 2 direita e 1 baixo. Onde para?",
                        options: ["(4, 2)", "(4, 4)", "(2, 4)", "(0, 2)"],
                        correct: 0,
                        explanation: "De (2, 3): direita aumenta x: 2+2=4; baixo diminui y: 3-1=2. Nova posi√ß√£o: (4, 2)."
                    },
                    {
                        question: "Qual ponto est√° no primeiro quadrante?",
                        options: ["(-2, 3)", "(2, -3)", "(2, 3)", "(-2, -3)"],
                        correct: 2,
                        explanation: "No primeiro quadrante, x e y s√£o positivos: (2, 3)."
                    },
                    {
                        question: "Do ponto (5, 1) para o ponto (2, 4), o movimento foi:",
                        options: ["3 esquerda e 3 cima", "3 direita e 3 cima", "3 esquerda e 3 baixo", "3 direita e 3 baixo"],
                        correct: 0,
                        explanation: "x diminuiu 3 (esquerda), y aumentou 3 (cima)."
                    }
                ]
            },
            {
                code: "Desafio 16",
                title: "Formas Espaciais",
                description: "Reconhecer formas 3D",
                icon: "fas fa-cube",
                category: "Geometria",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Formas Espaciais (S√≥lidos Geom√©tricos)</h3>
                        <p class="theory-explanation">Formas espaciais s√£o objetos tridimensionais que t√™m comprimento, largura e altura. Podemos estud√°-los atrav√©s de suas planifica√ß√µes.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">S√≥lidos comuns:</div>
                            <p><strong>Prisma:</strong> duas bases iguais e paralelas, faces laterais retangulares</p>
                            <ul>
                                <li>Prisma triangular: 2 tri√¢ngulos + 3 ret√¢ngulos</li>
                                <li>Prisma retangular (paralelep√≠pedo): 6 ret√¢ngulos</li>
                                <li>Cubo: 6 quadrados iguais</li>
                            </ul>
                            <p><strong>Pir√¢mide:</strong> uma base poligonal e faces triangulares que se encontram em um v√©rtice</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Cubo: sempre 6 faces quadradas iguais</li>
                                <li>Para identificar: conte faces, v√©rtices e arestas</li>
                                <li>Planifica√ß√£o de cubo: precisa de 6 quadrados conectados</li>
                                <li>4 quadrados em linha n√£o fecha um cubo (faltam 2 faces)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Qual s√≥lido tem 2 tri√¢ngulos e 3 ret√¢ngulos na planifica√ß√£o?",
                        options: ["Prisma triangular", "Pir√¢mide triangular", "Prisma retangular", "Cilindro"],
                        correct: 0,
                        explanation: "Prisma triangular tem 2 bases triangulares e 3 faces retangulares."
                    },
                    {
                        question: "Quantas faces tem um cubo?",
                        options: ["4", "6", "8", "12"],
                        correct: 1,
                        explanation: "Um cubo tem 6 faces quadradas."
                    },
                    {
                        question: "Qual N√ÉO √© uma planifica√ß√£o de cubo?",
                        options: ["4 quadrados em linha", "6 quadrados em cruz", "6 quadrados em T", "Todas s√£o"],
                        correct: 0,
                        explanation: "4 quadrados em linha n√£o fecha um cubo, faltam 2 faces."
                    }
                ]
            },
            {
                code: "Desafio 17",
                title: "Pol√≠gonos",
                description: "Identificar formas planas",
                icon: "fas fa-shapes",
                category: "Geometria",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Pol√≠gonos</h3>
                        <p class="theory-explanation">Pol√≠gonos s√£o figuras planas fechadas formadas por segmentos de reta. Cada segmento √© um lado, e cada encontro de lados √© um v√©rtice.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Pol√≠gonos comuns:</div>
                            <ul>
                                <li>Tri√¢ngulo: 3 lados, 3 v√©rtices</li>
                                <li>Quadril√°tero: 4 lados, 4 v√©rtices (quadrado, ret√¢ngulo, losango, trap√©zio)</li>
                                <li>Pent√°gono: 5 lados, 5 v√©rtices</li>
                                <li>Hex√°gono: 6 lados, 6 v√©rtices</li>
                                <li>Hept√°gono: 7 lados, 7 v√©rtices</li>
                                <li>Oct√≥gono: 8 lados, 8 v√©rtices</li>
                            </ul>
                            <p><strong>O que N√ÉO √© pol√≠gono:</strong> c√≠rculos (n√£o t√™m lados retos), figuras abertas, figuras com curvas</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Nome do pol√≠gono: baseado no n√∫mero de lados</li>
                                <li>N√∫mero de lados = n√∫mero de v√©rtices</li>
                                <li>Pol√≠gonos regulares: todos os lados iguais, todos os √¢ngulos iguais</li>
                                <li>Para identificar: conte os lados e veja se s√£o retos</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Qual pol√≠gono tem 5 lados?",
                        options: ["Tri√¢ngulo", "Quadril√°tero", "Pent√°gono", "Hex√°gono"],
                        correct: 2,
                        explanation: "Pol√≠gono com 5 lados = pent√°gono."
                    },
                    {
                        question: "Quantos v√©rtices tem um hex√°gono?",
                        options: ["4", "5", "6", "7"],
                        correct: 2,
                        explanation: "Hex√°gono tem 6 lados e 6 v√©rtices."
                    },
                    {
                        question: "Qual forma N√ÉO √© pol√≠gono?",
                        options: ["Tri√¢ngulo", "C√≠rculo", "Quadrado", "Pent√°gono"],
                        correct: 1,
                        explanation: "C√≠rculo n√£o tem lados retos, ent√£o n√£o √© pol√≠gono."
                    }
                ]
            },
            {
                code: "Desafio 18",
                title: "Ampliar e Reduzir",
                description: "Mudar tamanho de figuras",
                icon: "fas fa-expand-alt",
                category: "Geometria",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Amplia√ß√£o e Redu√ß√£o de Figuras</h3>
                        <p class="theory-explanation">Ampliar √© aumentar o tamanho de uma figura mantendo a forma. Reduzir √© diminuir o tamanho mantendo a forma. A propor√ß√£o entre os lados se mant√©m.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como funciona:</div>
                            <p><strong>Amplia√ß√£o proporcional:</strong> todos os lados s√£o multiplicados pelo mesmo n√∫mero</p>
                            <p>Ex: Tri√¢ngulo 3, 4, 5 ampliado √ó2 ‚Üí 6, 8, 10</p>
                            <p><strong>O que muda e o que n√£o muda:</strong></p>
                            <ul>
                                <li>N√£o muda: forma, √¢ngulos, propor√ß√µes entre lados</li>
                                <li>Muda: tamanho dos lados, per√≠metro, √°rea</li>
                            </ul>
                            <p><strong>Escala:</strong> raz√£o entre medida na figura e medida real</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Na amplia√ß√£o/redu√ß√£o proporcional: multiplique todos os lados pelo mesmo fator</li>
                                <li>A forma deve permanecer igual - s√≥ o tamanho muda</li>
                                <li>Para verificar: compare as raz√µes entre lados correspondentes</li>
                                <li>√Årea aumenta/diminui com o quadrado do fator (√ó2 lados ‚Üí √ó4 √°rea)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Quando ampliamos um quadrado, seus lados:",
                        options: ["Diminuem", "Aumentam proporcionalmente", "N√£o mudam", "Ficam desproporcionais"],
                        correct: 1,
                        explanation: "Na amplia√ß√£o, os lados aumentam proporcionalmente."
                    },
                    {
                        question: "O que n√£o muda quando reduzimos uma figura?",
                        options: ["Tamanho dos lados", "Forma", "√Årea", "Per√≠metro"],
                        correct: 1,
                        explanation: "A forma se mant√©m, s√≥ o tamanho muda."
                    },
                    {
                        question: "Um tri√¢ngulo com lados 3, 4, 5 √© ampliado para 6, 8, 10. Isso √©:",
                        options: ["Proporcional", "N√£o proporcional", "S√≥ alguns aumentaram", "Nenhuma"],
                        correct: 0,
                        explanation: "Todos os lados dobraram (√ó2), ent√£o √© amplia√ß√£o proporcional."
                    }
                ]
            },
            {
                code: "Desafio 19",
                title: "Medidas",
                description: "Trabalhar com diferentes medidas",
                icon: "fas fa-ruler-combined",
                category: "Grandezas e Medidas",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Medidas</h3>
                        <p class="theory-explanation">Medir √© comparar uma grandeza com uma unidade padr√£o. No 5¬∫ ano, trabalhamos com medidas de comprimento, massa, capacidade, tempo e √°rea.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Unidades de medida:</div>
                            <p><strong>Comprimento:</strong> metro (m), cent√≠metro (cm), mil√≠metro (mm), quil√¥metro (km)</p>
                            <p>1 m = 100 cm, 1 km = 1000 m</p>
                            <p><strong>Tempo:</strong> hora (h), minuto (min), segundo (s)</p>
                            <p>1 h = 60 min, 1 min = 60 s, 1 h = 3600 s</p>
                            <p><strong>√Årea:</strong> metro quadrado (m¬≤), cent√≠metro quadrado (cm¬≤)</p>
                            <p>√Årea do ret√¢ngulo = comprimento √ó largura</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Para converter: lembre-se das rela√ß√µes entre unidades</li>
                                <li>1 metro = 100 cent√≠metros (centi = 1/100)</li>
                                <li>1 hora = 60 minutos, ent√£o 2h30 = 2√ó60 + 30 = 150 minutos</li>
                                <li>√Årea: use a unidade quadrada correspondente (m¬≤ para m√óm)</li>
                                <li>Sempre verifique se a unidade faz sentido para o que est√° medindo</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Quantos cent√≠metros tem 1 metro?",
                        options: ["10", "100", "1000", "10000"],
                        correct: 1,
                        explanation: "1 metro = 100 cent√≠metros."
                    },
                    {
                        question: "Quantos minutos t√™m 2 horas e meia?",
                        options: ["120", "150", "180", "210"],
                        correct: 1,
                        explanation: "2 horas = 120 minutos, meia hora = 30 minutos. Total: 150."
                    },
                    {
                        question: "Uma sala de 6m por 4m tem √°rea:",
                        options: ["10 m¬≤", "20 m¬≤", "24 m¬≤", "36 m¬≤"],
                        correct: 2,
                        explanation: "√Årea = comprimento √ó largura = 6 √ó 4 = 24 m¬≤."
                    }
                ]
            },
            {
                code: "Desafio 20",
                title: "Per√≠metro e √Årea",
                description: "Comparar per√≠metros e √°reas",
                icon: "fas fa-border-all",
                category: "Grandezas e Medidas",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Per√≠metro e √Årea</h3>
                        <p class="theory-explanation">Per√≠metro √© a medida do contorno de uma figura (soma dos lados). √Årea √© a medida da superf√≠cie que a figura ocupa.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como calcular:</div>
                            <p><strong>Per√≠metro do quadrado:</strong> 4 √ó lado</p>
                            <p><strong>Per√≠metro do ret√¢ngulo:</strong> 2 √ó (comprimento + largura)</p>
                            <p><strong>√Årea do quadrado:</strong> lado √ó lado</p>
                            <p><strong>√Årea do ret√¢ngulo:</strong> comprimento √ó largura</p>
                            <p><strong>Exemplo:</strong> Quadrado lado 4cm:</p>
                            <p>Per√≠metro: 4√ó4=16cm, √Årea: 4√ó4=16cm¬≤</p>
                            <p>Ret√¢ngulo 2cm√ó6cm:</p>
                            <p>Per√≠metro: 2+2+6+6=16cm, √Årea: 2√ó6=12cm¬≤</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Per√≠metro: soma dos lados (unidade linear: cm, m)</li>
                                <li>√Årea: multiplica√ß√£o de dimens√µes (unidade quadrada: cm¬≤, m¬≤)</li>
                                <li>Figuras com mesmo per√≠metro podem ter √°reas diferentes</li>
                                <li>Para comparar √°reas: calcule ambas e compare os valores</li>
                                <li>O quadrado √© a figura que maximiza a √°rea para um dado per√≠metro</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Um quadrado de lado 4cm tem per√≠metro 16cm e √°rea 16cm¬≤. Um ret√¢ngulo 2cm√ó6cm tem:",
                        options: ["Mesmo per√≠metro e √°rea", "Mesmo per√≠metro, √°rea diferente", "Per√≠metro diferente, mesma √°rea", "Tudo diferente"],
                        correct: 1,
                        explanation: "Ret√¢ngulo: per√≠metro = 2+2+6+6 = 16cm (igual), √°rea = 2√ó6 = 12cm¬≤ (diferente)."
                    },
                    {
                        question: "Qual tem maior √°rea: quadrado lado 5cm ou ret√¢ngulo 4cm√ó6cm?",
                        options: ["Quadrado", "Ret√¢ngulo", "Iguais", "N√£o sei"],
                        correct: 0,
                        explanation: "Quadrado: 5√ó5 = 25cm¬≤. Ret√¢ngulo: 4√ó6 = 24cm¬≤. Quadrado maior."
                    },
                    {
                        question: "Figuras com mesmo per√≠metro podem ter √°reas diferentes?",
                        options: ["Sim", "N√£o", "Depende", "√Äs vezes"],
                        correct: 0,
                        explanation: "Sim, figuras com mesmo per√≠metro podem ter √°reas diferentes."
                    }
                ]
            },
            {
                code: "Desafio 21",
                title: "Volume",
                description: "Calcular espa√ßo que ocupa",
                icon: "fas fa-cubes",
                category: "Grandezas e Medidas",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Volume</h3>
                        <p class="theory-explanation">Volume √© a medida do espa√ßo que um objeto ocupa. √â tridimensional (comprimento √ó largura √ó altura).</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como calcular:</div>
                            <p><strong>Volume do cubo:</strong> lado √ó lado √ó lado = lado¬≥</p>
                            <p><strong>Volume do paralelep√≠pedo:</strong> comprimento √ó largura √ó altura</p>
                            <p><strong>Unidades:</strong> metro c√∫bico (m¬≥), cent√≠metro c√∫bico (cm¬≥), litro (L)</p>
                            <p>1 L = 1000 cm¬≥, 1 m¬≥ = 1000 L</p>
                            <p><strong>Exemplo:</strong> Cubo de lado 2cm:</p>
                            <p>Volume = 2√ó2√ó2 = 8 cm¬≥</p>
                            <p>Caixa 3cm√ó4cm√ó5cm:</p>
                            <p>Volume = 3√ó4√ó5 = 60 cm¬≥ (cabem 60 cubinhos de 1cm¬≥)</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Volume: multiplica√ß√£o das tr√™s dimens√µes (unidade c√∫bica: cm¬≥, m¬≥)</li>
                                <li>Para saber quantos cubinhos cabem: calcule o volume do recipiente</li>
                                <li>1 cm¬≥ = volume de um cubo de 1cm de lado</li>
                                <li>Volume mede capacidade (quanto algo pode conter)</li>
                                <li>L√≠quidos: use litros (1L = 1000cm¬≥)</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Um cubo de lado 2cm tem volume:",
                        options: ["4 cm¬≥", "6 cm¬≥", "8 cm¬≥", "12 cm¬≥"],
                        correct: 2,
                        explanation: "Volume = lado √ó lado √ó lado = 2√ó2√ó2 = 8 cm¬≥."
                    },
                    {
                        question: "Quantos cubinhos de 1cm¬≥ cabem em uma caixa 3cm√ó4cm√ó5cm?",
                        options: ["12", "30", "60", "120"],
                        correct: 2,
                        explanation: "Volume da caixa = 3√ó4√ó5 = 60 cm¬≥, ent√£o cabem 60 cubinhos."
                    },
                    {
                        question: "Volume mede:",
                        options: ["Comprimento", "√Årea", "Espa√ßo ocupado", "Peso"],
                        correct: 2,
                        explanation: "Volume mede o espa√ßo que um objeto ocupa."
                    }
                ]
            },
            {
                code: "Desafio 22",
                title: "Chances",
                description: "Analisar probabilidades",
                icon: "fas fa-dice",
                category: "Probabilidade e Estat√≠stica",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Chances (Espa√ßo Amostral)</h3>
                        <p class="theory-explanation">Em probabilidade, o espa√ßo amostral √© o conjunto de todos os resultados poss√≠veis de um experimento aleat√≥rio.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como identificar:</div>
                            <p><strong>Experimento 1:</strong> Lan√ßar uma moeda</p>
                            <p>Espa√ßo amostral = {cara, coroa} (2 resultados)</p>
                            <p><strong>Experimento 2:</strong> Lan√ßar um dado comum</p>
                            <p>Espa√ßo amostral = {1, 2, 3, 4, 5, 6} (6 resultados)</p>
                            <p><strong>Experimento 3:</strong> Lan√ßar moeda e dado</p>
                            <p>Espa√ßo amostral = todos os pares poss√≠veis</p>
                            <p>Moeda: 2 op√ß√µes, Dado: 6 op√ß√µes ‚Üí Total: 2√ó6 = 12 resultados</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Liste todos os resultados poss√≠veis sem repetir</li>
                                <li>Use { } para representar conjuntos</li>
                                <li>Para experimentos combinados: multiplique as possibilidades</li>
                                <li>Resultados igualmente prov√°veis: cada um tem mesma chance</li>
                                <li>Espa√ßo amostral deve incluir TODAS as possibilidades</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Ao lan√ßar uma moeda, quais os resultados poss√≠veis?",
                        options: ["{cara}", "{coroa}", "{cara, coroa}", "{nenhum}"],
                        correct: 2,
                        explanation: "Os resultados poss√≠veis s√£o cara ou coroa."
                    },
                    {
                        question: "Ao lan√ßar um dado comum, quantos resultados poss√≠veis?",
                        options: ["4", "6", "8", "12"],
                        correct: 1,
                        explanation: "Um dado tem 6 faces: 1, 2, 3, 4, 5, 6."
                    },
                    {
                        question: "Lan√ßando uma moeda e um dado, quantos resultados poss√≠veis?",
                        options: ["8", "10", "12", "14"],
                        correct: 2,
                        explanation: "Moeda: 2 resultados, Dado: 6 resultados. Total: 2√ó6 = 12."
                    }
                ]
            },
            {
                code: "Desafio 23",
                title: "Probabilidade",
                description: "Calcular chances de eventos",
                icon: "fas fa-chart-pie",
                category: "Probabilidade e Estat√≠stica",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Probabilidade</h3>
                        <p class="theory-explanation">Probabilidade mede a chance de um evento ocorrer. √â calculada como: n√∫mero de resultados favor√°veis dividido pelo n√∫mero total de resultados poss√≠veis.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Como calcular:</div>
                            <p>P(evento) = resultados favor√°veis / resultados poss√≠veis</p>
                            <p><strong>Exemplo 1:</strong> Chance de cara na moeda</p>
                            <p>Favor√°veis: 1 (cara), Poss√≠veis: 2 ‚Üí P = 1/2 = 0,5 = 50%</p>
                            <p><strong>Exemplo 2:</strong> Chance de n√∫mero par no dado</p>
                            <p>Favor√°veis: 3 (2, 4, 6), Poss√≠veis: 6 ‚Üí P = 3/6 = 1/2 = 50%</p>
                            <p><strong>Exemplo 3:</strong> Chance de sair 3 no dado</p>
                            <p>Favor√°veis: 1, Poss√≠veis: 6 ‚Üí P = 1/6 ‚âà 0,1667 ‚âà 16,67%</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Probabilidade vai de 0 (imposs√≠vel) a 1 (certo) ou 0% a 100%</li>
                                <li>Para calcular: conte resultados favor√°veis e totais</li>
                                <li>Fra√ß√µes podem ser simplificadas</li>
                                <li>Probabilidade de evento complementar: 1 - P(evento)</li>
                                <li>Eventos igualmente prov√°veis: mesma chance para cada resultado</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Qual a chance de sair cara ao lan√ßar uma moeda?",
                        options: ["1/4", "1/3", "1/2", "3/4"],
                        correct: 2,
                        explanation: "Moeda tem 2 lados igualmente prov√°veis. Chance de cara = 1/2."
                    },
                    {
                        question: "Em um dado, qual a probabilidade de sair n√∫mero par?",
                        options: ["1/6", "1/3", "1/2", "2/3"],
                        correct: 2,
                        explanation: "N√∫meros pares: 2, 4, 6 (3 n√∫meros). Probabilidade = 3/6 = 1/2."
                    },
                    {
                        question: "Qual a probabilidade de sair o n√∫mero 3 em um dado?",
                        options: ["1/6", "1/3", "1/2", "1"],
                        correct: 0,
                        explanation: "Dado tem 6 faces igualmente prov√°veis. Probabilidade de sair 3 = 1/6."
                    }
                ]
            },
            {
                code: "Desafio 24",
                title: "Gr√°ficos e Tabelas",
                description: "Interpretar informa√ß√µes visuais",
                icon: "fas fa-chart-bar",
                category: "Probabilidade e Estat√≠stica",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Gr√°ficos e Tabelas</h3>
                        <p class="theory-explanation">Gr√°ficos e tabelas s√£o formas visuais de apresentar dados. Ajudam a entender e comparar informa√ß√µes rapidamente.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Tipos comuns:</div>
                            <p><strong>Gr√°fico de barras:</strong> compara quantidades usando barras de comprimento proporcional</p>
                            <p>Uso: comparar categorias (ex: prefer√™ncias, quantidades)</p>
                            <p><strong>Gr√°fico de linhas:</strong> mostra mudan√ßas ao longo do tempo</p>
                            <p>Uso: temperaturas mensais, crescimento populacional</p>
                            <p><strong>Gr√°fico de setores (pizza):</strong> mostra partes de um todo</p>
                            <p>Uso: or√ßamento familiar, resultados eleitorais</p>
                            <p><strong>Tabelas:</strong> organizam dados em linhas e colunas</p>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Sempre leia os t√≠tulos e legendas</li>
                                <li>Verifique as escalas dos gr√°ficos</li>
                                <li>Em gr√°ficos de barras: o comprimento indica a quantidade</li>
                                <li>Para calcular porcentagens: parte √∑ total √ó 100</li>
                                <li>Para tend√™ncias temporais: gr√°fico de linhas √© o mais adequado</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Em um gr√°fico de barras, o comprimento da barra mostra:",
                        options: ["Cor dos dados", "Quantidade ou frequ√™ncia", "Tempo de coleta", "Local"],
                        correct: 1,
                        explanation: "O comprimento da barra mostra a quantidade ou frequ√™ncia."
                    },
                    {
                        question: "Em uma pesquisa, 20 de 50 pessoas preferem chocolate. Qual a porcentagem?",
                        options: ["20%", "30%", "40%", "50%"],
                        correct: 2,
                        explanation: "20 de 50 = 20/50 = 0,4 = 40%."
                    },
                    {
                        question: "Para mostrar mudan√ßas ao longo do tempo, melhor gr√°fico:",
                        options: ["Barras", "Linhas", "Setores", "Pict√≥rico"],
                        correct: 1,
                        explanation: "Gr√°fico de linhas √© melhor para mostrar tend√™ncias no tempo."
                    }
                ]
            },
            {
                code: "Desafio 25",
                title: "Organizar Dados",
                description: "Organizar informa√ß√µes de pesquisa",
                icon: "fas fa-poll",
                category: "Probabilidade e Estat√≠stica",
                theory: `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">Teoria: Organiza√ß√£o de Dados de Pesquisa</h3>
                        <p class="theory-explanation">Uma pesquisa cient√≠fica segue etapas: planejamento, coleta, organiza√ß√£o, an√°lise e apresenta√ß√£o dos dados.</p>
                        
                        <div class="theory-example">
                            <div class="theory-example-title">Etapas da pesquisa:</div>
                            <ol>
                                <li><strong>Definir tema e objetivo:</strong> o que queremos saber?</li>
                                <li><strong>Coletar dados:</strong> atrav√©s de question√°rios, observa√ß√£o, etc.</li>
                                <li><strong>Organizar dados:</strong> em tabelas, listas, categorias</li>
                                <li><strong>Analisar dados:</strong> calcular m√©dias, porcentagens, identificar padr√µes</li>
                                <li><strong>Apresentar resultados:</strong> usando gr√°ficos, relat√≥rios</li>
                            </ol>
                            <p><strong>Tipos de vari√°veis:</strong></p>
                            <ul>
                                <li><strong>Quantitativas:</strong> num√©ricas (idade, altura, peso)</li>
                                <li><strong>Qualitativas (categ√≥ricas):</strong> categorias (cor favorita, time, g√™nero)</li>
                            </ul>
                        </div>
                        
                        <div class="theory-key-points">
                            <div class="theory-key-points-title">Dicas importantes:</div>
                            <ul>
                                <li>Comece sempre com objetivos claros</li>
                                <li>Coletar dados sem planejamento pode gerar informa√ß√µes in√∫teis</li>
                                <li>Organize os dados antes de analisar</li>
                                <li>Vari√°vel categ√≥rica: resposta em categorias (ex: cor favorita)</li>
                                <li>Ap√≥s coleta: organize, analise, tire conclus√µes</li>
                            </ul>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        question: "Primeiro passo em uma pesquisa:",
                        options: ["Coletar dados", "Definir tema e objetivo", "Analisar dados", "Apresentar"],
                        correct: 1,
                        explanation: "Primeiro definir claramente o tema e objetivos."
                    },
                    {
                        question: "Exemplo de vari√°vel categ√≥rica:",
                        options: ["Idade", "Altura", "Cor favorita", "Peso"],
                        correct: 2,
                        explanation: "Cor favorita √© vari√°vel categ√≥rica (qualitativa)."
                    },
                    {
                        question: "Ap√≥s coletar dados:",
                        options: ["Organizar e analisar", "Esquecer pesquisa", "Coletar mais sem analisar", "Publicar"],
                        correct: 0,
                        explanation: "Ap√≥s coleta, organizar e analisar dados para conclus√µes."
                    }
                ]
            }
        ];

        // Estado atual do jogo - MODIFICADO para rastrear erros
        let gameState = {
            score: 0,
            attempts: 0,
            completedSkills: [],
            currentSkillIndex: -1,
            currentQuestion: 0,
            skillProgress: Array(25).fill().map(() => ({ 
                status: 0, // 0 = n√£o iniciado, 1 = em progresso, 2 = completado
                correctAnswers: 0, // Quantidade de acertos neste desafio (0-3)
                wrongQuestions: [] // Array para armazenar quais quest√µes foram erradas
            })),
            selectedAnswer: null,
            answered: false
        };

        // Inicializar o jogo
        function initGame() {
            // Inicializar sistema de √°udio
            initAudioSystem();
            
            // Carregar estado salvo (se existir)
            const savedState = localStorage.getItem('mathGameState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                
                // Garantir compatibilidade com vers√µes antigas
                gameState = parsedState;
                
                // Se skillProgress for um array de n√∫meros (vers√£o antiga), converter
                if (gameState.skillProgress && gameState.skillProgress.length > 0 && typeof gameState.skillProgress[0] === 'number') {
                    gameState.skillProgress = gameState.skillProgress.map(status => ({
                        status: status,
                        correctAnswers: 0,
                        wrongQuestions: []
                    }));
                }
                
                // Garantir que cada skillProgress tenha wrongQuestions
                gameState.skillProgress.forEach(skill => {
                    if (!skill.wrongQuestions) {
                        skill.wrongQuestions = [];
                    }
                });
            }
            
            // Atualizar interface
            updateScoreboard();
            renderSkillsGrid();
            updateProgressBar();
            
            // Adicionar event listeners aos bot√µes
            setupEventListeners();
            
            // Configurar seletor de teoria
            setupTheorySelector();
            
            // Verificar se todos os desafios est√£o completos
            checkAllCompleted();
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Bot√µes de informa√ß√£o
            projectBtn.addEventListener('click', () => openModal(projectModal));
            skillsBtn.addEventListener('click', () => openModal(skillsModal));
            reviewBtn.addEventListener('click', () => openModal(reviewModal));
            theoryBtn.addEventListener('click', () => openModal(theoryModal));
            rulesBtn.addEventListener('click', () => openModal(rulesModal));
            moreBtn.addEventListener('click', () => openModal(moreModal));
            resetBtn.addEventListener('click', resetGame);
            
            // Bot√µes de download
            downloadPdfBtn.addEventListener('click', downloadPDF);
            downloadStatsBtn.addEventListener('click', generateStatsFile);
            
            // Bot√µes para fechar modais
            closeProject.addEventListener('click', () => closeModal(projectModal));
            closeSkills.addEventListener('click', () => closeModal(skillsModal));
            closeReview.addEventListener('click', () => closeModal(reviewModal));
            closeTheory.addEventListener('click', () => closeModal(theoryModal));
            closeRules.addEventListener('click', () => closeModal(rulesModal));
            closeMore.addEventListener('click', () => closeModal(moreModal));
            closeGame.addEventListener('click', () => {
                closeModal(gameModal);
                // Resetar estado da pergunta atual
                gameState.selectedAnswer = null;
                gameState.answered = false;
            });
            
            // Fechar modal ao clicar fora
            window.addEventListener('click', (e) => {
                if (e.target === projectModal) closeModal(projectModal);
                if (e.target === skillsModal) closeModal(skillsModal);
                if (e.target === reviewModal) closeModal(reviewModal);
                if (e.target === theoryModal) closeModal(theoryModal);
                if (e.target === rulesModal) closeModal(rulesModal);
                if (e.target === moreModal) closeModal(moreModal);
                if (e.target === gameModal) {
                    closeModal(gameModal);
                    // Resetar estado da pergunta atual
                    gameState.selectedAnswer = null;
                    gameState.answered = false;
                }
            });
            
            // Fechar modais com tecla ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeModal(projectModal);
                    closeModal(skillsModal);
                    closeModal(reviewModal);
                    closeModal(theoryModal);
                    closeModal(rulesModal);
                    closeModal(moreModal);
                    closeModal(gameModal);
                    // Resetar estado da pergunta atual
                    gameState.selectedAnswer = null;
                    gameState.answered = false;
                }
            });
        }

        // Configurar seletor de teoria
        function setupTheorySelector() {
            // Preencher o seletor com os desafios
            theorySelector.innerHTML = '<option value="-1">Selecione um desafio para ver a teoria</option>';
            
            skillsData.forEach((skill, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${skill.code}: ${skill.title}`;
                theorySelector.appendChild(option);
            });
            
            // Adicionar event listener ao seletor
            theorySelector.addEventListener('change', function() {
                const skillIndex = parseInt(this.value);
                
                if (skillIndex === -1) {
                    theoryContent.innerHTML = `
                        <div style="text-align: center; padding: 40px 20px; color: #666;">
                            <i class="fas fa-lightbulb" style="font-size: 3rem; margin-bottom: 15px; color: #ddd;"></i>
                            <p>Selecione um desafio acima para aprender a teoria por tr√°s dele!</p>
                        </div>
                    `;
                    return;
                }
                
                const skill = skillsData[skillIndex];
                
                // Carregar conte√∫do te√≥rico
                theoryContent.innerHTML = `
                    <div class="theory-item">
                        <h3 class="theory-topic-title">${skill.code}: ${skill.title}</h3>
                        <p class="theory-explanation" style="font-size: 1.1rem; color: #4a6bff; font-weight: bold;">${skill.description}</p>
                        ${skill.theory}
                        <div style="margin-top: 20px; padding: 15px; background-color: #e8eaf6; border-radius: 10px;">
                            <p style="color: #333; margin-bottom: 10px;"><strong>üìö Categoria:</strong> ${skill.category}</p>
                            <p style="color: #333;"><strong>üéØ Dica:</strong> Tente resolver os problemas deste desafio aplicando os conceitos te√≥ricos que voc√™ acabou de aprender!</p>
                        </div>
                    </div>
                `;
                
                // Adicionar bot√£o para jogar o desafio
                const playButton = document.createElement('button');
                playButton.className = 'info-btn';
                playButton.style.marginTop = '20px';
                playButton.style.backgroundColor = '#4caf50';
                playButton.innerHTML = '<i class="fas fa-play-circle"></i> Jogar Este Desafio';
                playButton.addEventListener('click', () => {
                    closeModal(theoryModal);
                    startSkill(skillIndex);
                });
                
                theoryContent.querySelector('.theory-item').appendChild(playButton);
            });
        }

        // Fun√ß√£o para disparar efeito de confete
        function triggerConfetti() {
            console.log("Disparando confete!");
            
            // Tocar som de fogos de artif√≠cio
            playFireworksSound();
            
            // Efeito de confete b√°sico
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                zIndex: 9999
            });
            
            // Efeito adicional para deixar mais festivo
            setTimeout(() => {
                confetti({
                    particleCount: 100,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    zIndex: 9999
                });
                confetti({
                    particleCount: 100,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    zIndex: 9999
                });
            }, 250);
            
            // Efeito final (estrelas)
            setTimeout(() => {
                confetti({
                    particleCount: 50,
                    spread: 100,
                    shapes: ['circle', 'square', 'star'],
                    colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'],
                    zIndex: 9999
                });
            }, 500);
            
            // Efeito extra para garantir que seja vis√≠vel
            setTimeout(() => {
                confetti({
                    particleCount: 30,
                    startVelocity: 25,
                    spread: 360,
                    ticks: 50,
                    origin: { x: 0.5, y: 0.35 },
                    colors: ['#ff0000', '#ffff00', '#00ff00'],
                    zIndex: 9999
                });
            }, 750);
        }

        // Reiniciar o jogo
        function resetGame() {
            if (confirm("Tem certeza que quer reiniciar o jogo? Seu progresso ser√° perdido.")) {
                gameState = {
                    score: 0,
                    attempts: 0,
                    completedSkills: [],
                    currentSkillIndex: -1,
                    currentQuestion: 0,
                    skillProgress: Array(25).fill().map(() => ({ 
                        status: 0,
                        correctAnswers: 0,
                        wrongQuestions: []
                    })),
                    selectedAnswer: null,
                    answered: false
                };
                
                // Atualizar interface
                updateScoreboard();
                renderSkillsGrid();
                updateProgressBar();
                saveGameState();
                
                // Esconder bot√µes de download
                downloadButtons.style.display = 'none';
                
                // Mostrar mensagem
                alert("Jogo reiniciado! Comece a jogar novamente!");
            }
        }

        // Renderizar grade de habilidades
        function renderSkillsGrid() {
            skillsGrid.innerHTML = '';
            
            skillsData.forEach((skill, index) => {
                const card = document.createElement('div');
                card.className = 'skill-card';
                
                // Determinar estado do cart√£o
                if (gameState.skillProgress[index].status === 2) {
                    card.classList.add('completed');
                } else if (gameState.skillProgress[index].status === 1) {
                    card.classList.add('in-progress');
                }
                
                // Adicionar anima√ß√£o se completado recentemente
                if (gameState.skillProgress[index].status === 2) {
                    card.classList.add('celebrate-animation');
                    setTimeout(() => {
                        card.classList.remove('celebrate-animation');
                    }, 500);
                }
                
                // Obter quantidade de acertos para este desafio
                const correctAnswers = gameState.skillProgress[index].correctAnswers;
                const totalQuestions = skill.questions.length;
                
                card.innerHTML = `
                    <div class="skill-code">${skill.code}</div>
                    <div class="card-icon"><i class="${skill.icon}"></i></div>
                    <div class="card-title">${skill.title}</div>
                    <div class="card-desc">${skill.description}</div>
                    <div class="progress-indicator">
                        ${gameState.skillProgress[index].status === 2 ? 
                            `<i class="fas fa-check-circle"></i> ${correctAnswers}/${totalQuestions}` : 
                          gameState.skillProgress[index].status === 1 ? 
                            `<i class="fas fa-spinner"></i> ${correctAnswers}/${totalQuestions}` : 
                            '<i class="fas fa-play-circle"></i> Jogar'}
                    </div>
                `;
                
                card.addEventListener('click', () => startSkill(index));
                skillsGrid.appendChild(card);
            });
        }

        // Iniciar uma habilidade
        function startSkill(skillIndex) {
            gameState.currentSkillIndex = skillIndex;
            gameState.currentQuestion = 0;
            gameState.selectedAnswer = null;
            gameState.answered = false;
            
            // Marcar habilidade como em progresso
            if (gameState.skillProgress[skillIndex].status === 0) {
                gameState.skillProgress[skillIndex].status = 1;
            }
            
            // Atualizar interface
            renderSkillsGrid();
            updateProgressBar();
            saveGameState();
            
            // Abrir modal do jogo
            openGameModal(skillIndex);
        }

        // Abrir modal do jogo
        function openGameModal(skillIndex) {
            const skill = skillsData[skillIndex];
            document.getElementById('gameTopicTitle').textContent = skill.title;
            document.getElementById('skillCodeDisplay').textContent = `${skill.code}: ${skill.description}`;
            
            openModal(gameModal);
            loadQuestion();
        }

        // Carregar pergunta atual
        function loadQuestion() {
            const skill = skillsData[gameState.currentSkillIndex];
            const questionData = skill.questions[gameState.currentQuestion];
            
            // Atualizar contador de perguntas
            const questionCounter = document.getElementById('questionCounter');
            questionCounter.textContent = `Pergunta ${gameState.currentQuestion + 1} de ${skill.questions.length}`;
            questionCounter.classList.add('bounce-animation');
            setTimeout(() => {
                questionCounter.classList.remove('bounce-animation');
            }, 500);
            
            let gameHTML = `
                <div style="margin-bottom: 25px;">
                    <div style="background-color: #f9f9f9; padding: 20px; border-radius: 15px; margin-bottom: 20px; border-left: 5px solid #4a6bff;">
                        <h3 style="color: #333; margin-bottom: 15px; font-size: 1.3rem;">${questionData.question}</h3>
                    </div>
                    
                    <div id="optionsContainer" style="margin-bottom: 20px;">
            `;
            
            // Adicionar op√ß√µes de resposta
            questionData.options.forEach((option, index) => {
                const isSelected = gameState.selectedAnswer === index;
                const isAnswered = gameState.answered;
                let buttonClass = 'option-btn';
                
                if (isSelected && !isAnswered) {
                    buttonClass += ' selected';
                }
                
                gameHTML += `
                    <button class="${buttonClass}" data-index="${index}" ${isAnswered ? 'disabled' : ''}>
                        ${String.fromCharCode(65 + index)}) ${option}
                    </button>
                `;
            });
            
            gameHTML += `
                    </div>
                    
                    <div id="feedback" class="feedback-box" style="display: ${gameState.answered ? 'block' : 'none'};">
                        ${gameState.answered ? getFeedbackHtml() : ''}
                    </div>
                    
                    <div style="text-align: center;">
                        <button id="respondBtn" class="respond-btn" style="display: ${gameState.selectedAnswer !== null && !gameState.answered ? 'block' : 'none'};" ${gameState.selectedAnswer === null || gameState.answered ? 'disabled' : ''}>
                            <i class="fas fa-paper-plane"></i> Responder
                        </button>
                        <button id="nextBtn" class="next-btn" style="display: ${gameState.answered ? 'block' : 'none'};">
                            ${gameState.currentQuestion < skill.questions.length - 1 ? 'Pr√≥xima Pergunta ‚û°Ô∏è' : 'üèÅ Finalizar Desafio'}
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('gameContent').innerHTML = gameHTML;
            
            // Adicionar event listeners √†s op√ß√µes (se ainda n√£o respondida)
            if (!gameState.answered) {
                document.querySelectorAll('.option-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        selectAnswer(parseInt(this.getAttribute('data-index')));
                    });
                });
            }
            
            // Adicionar event listener ao bot√£o Responder
            const respondBtn = document.getElementById('respondBtn');
            if (respondBtn) {
                respondBtn.addEventListener('click', () => checkAnswer());
            }
            
            // Adicionar event listener ao bot√£o Pr√≥xima/Finalizar
            const nextBtn = document.getElementById('nextBtn');
            if (nextBtn) {
                nextBtn.addEventListener('click', nextQuestionOrFinish);
            }
        }

        // Selecionar uma resposta
        function selectAnswer(index) {
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Marcar nova sele√ß√£o
            const selectedBtn = document.querySelector(`.option-btn[data-index="${index}"]`);
            selectedBtn.classList.add('selected');
            selectedBtn.classList.add('bounce-animation');
            setTimeout(() => {
                selectedBtn.classList.remove('bounce-animation');
            }, 500);
            
            // Atualizar estado
            gameState.selectedAnswer = index;
            
            // Mostrar bot√£o Responder
            const respondBtn = document.getElementById('respondBtn');
            if (respondBtn) {
                respondBtn.style.display = 'block';
                respondBtn.disabled = false;
                respondBtn.classList.add('bounce-animation');
                setTimeout(() => {
                    respondBtn.classList.remove('bounce-animation');
                }, 500);
            }
        }

        // Verificar resposta - MODIFICADO para rastrear erros
        function checkAnswer() {
            if (gameState.selectedAnswer === null || gameState.answered) return;
            
            const skill = skillsData[gameState.currentSkillIndex];
            const questionData = skill.questions[gameState.currentQuestion];
            const isCorrect = gameState.selectedAnswer === questionData.correct;
            
            // Atualizar estado
            gameState.answered = true;
            gameState.attempts++;
            
            // Atualizar contador de acertos deste desafio
            if (isCorrect) {
                gameState.score++;
                gameState.skillProgress[gameState.currentSkillIndex].correctAnswers++;
                
                // Tocar som de sucesso
                playSuccessSound();
                
                // Efeito visual para resposta correta
                const correctBtn = document.querySelector(`.option-btn[data-index="${questionData.correct}"]`);
                correctBtn.classList.add('green-pulse-animation');
                
                // DISPARAR EFEITO DE CONFETE QUANDO ACERTA!
                console.log("Resposta correta! Disparando confete...");
                triggerConfetti();
            } else {
                // Tocar som de erro
                playErrorSound();
                
                // Efeito visual para resposta errada
                const selectedBtn = document.querySelector(`.option-btn[data-index="${gameState.selectedAnswer}"]`);
                selectedBtn.classList.add('shake-animation');
                
                // ADICIONAR √Ä LISTA DE ERROS - MODIFICA√á√ÉO IMPORTANTE
                const skillIndex = gameState.currentSkillIndex;
                const questionIndex = gameState.currentQuestion;
                
                // Garantir que o array existe
                if (!gameState.skillProgress[skillIndex].wrongQuestions) {
                    gameState.skillProgress[skillIndex].wrongQuestions = [];
                }
                
                // Adicionar a quest√£o errada (se ainda n√£o estiver na lista)
                if (!gameState.skillProgress[skillIndex].wrongQuestions.includes(questionIndex)) {
                    gameState.skillProgress[skillIndex].wrongQuestions.push(questionIndex);
                }
            }
            
            // Atualizar interface das op√ß√µes
            document.querySelectorAll('.option-btn').forEach(btn => {
                const index = parseInt(btn.getAttribute('data-index'));
                btn.disabled = true;
                
                if (index === questionData.correct) {
                    btn.classList.add('correct');
                } else if (index === gameState.selectedAnswer && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });
            
            // Mostrar feedback
            const feedback = document.getElementById('feedback');
            feedback.innerHTML = getFeedbackHtml();
            feedback.style.display = 'block';
            
            // Esconder bot√£o Responder, mostrar bot√£o Pr√≥xima
            const respondBtn = document.getElementById('respondBtn');
            if (respondBtn) respondBtn.style.display = 'none';
            
            const nextBtn = document.getElementById('nextBtn');
            if (nextBtn) {
                nextBtn.style.display = 'block';
                nextBtn.classList.add('bounce-animation');
                setTimeout(() => {
                    nextBtn.classList.remove('bounce-animation');
                }, 500);
            }
            
            // Atualizar placar e interface
            updateScoreboard();
            saveGameState();
        }

        // Gerar HTML do feedback
        function getFeedbackHtml() {
            const skill = skillsData[gameState.currentSkillIndex];
            const questionData = skill.questions[gameState.currentQuestion];
            const isCorrect = gameState.selectedAnswer === questionData.correct;
            
            if (isCorrect) {
                return `
                    <div class="feedback-correct">
                        <h4 style="color: #2e7d32; margin-bottom: 10px;"><span class="emoji">üéâ</span> <i class="fas fa-check-circle"></i> Parab√©ns! Resposta Correta!</h4>
                        <p style="color: #333;">${questionData.explanation}</p>
                        <p style="color: #4caf50; font-weight: bold; margin-top: 10px;">üéä Confete para celebrar sua resposta correta! üéä</p>
                    </div>
                `;
            } else {
                const selectedOption = questionData.options[gameState.selectedAnswer];
                const correctOption = questionData.options[questionData.correct];
                
                return `
                    <div class="feedback-incorrect">
                        <h4 style="color: #c62828; margin-bottom: 10px;"><span class="emoji">üí°</span> <i class="fas fa-times-circle"></i> Vamos tentar novamente!</h4>
                        <p style="color: #333;"><strong>Sua resposta:</strong> ${selectedOption}</p>
                        <p style="color: #333;"><strong>Resposta correta:</strong> ${correctOption}</p>
                        <p style="color: #333; margin-top: 10px;">${questionData.explanation}</p>
                        <p style="color: #666; margin-top: 10px; font-style: italic;">N√£o desanime! Cada erro √© uma chance de aprender!</p>
                    </div>
                `;
            }
        }

        // Pr√≥xima pergunta ou finalizar
        function nextQuestionOrFinish() {
            const skill = skillsData[gameState.currentSkillIndex];
            
            if (gameState.currentQuestion < skill.questions.length - 1) {
                // Ainda h√° perguntas
                gameState.currentQuestion++;
                gameState.selectedAnswer = null;
                gameState.answered = false;
                loadQuestion();
            } else {
                // Finalizar habilidade
                finishSkill();
            }
        }

        // Finalizar habilidade
        function finishSkill() {
            const skillIndex = gameState.currentSkillIndex;
            
            // Marcar habilidade como completada
            gameState.skillProgress[skillIndex].status = 2;
            
            // Tocar som de vit√≥ria
            playVictorySound();
            
            // Atualizar interface
            renderSkillsGrid();
            updateProgressBar();
            updateScoreboard();
            saveGameState();
            
            // Verificar se todos os desafios est√£o completos
            checkAllCompleted();
            
            // Mostrar resultado
            showSkillResult();
        }

        // Mostrar resultado da habilidade
        function showSkillResult() {
            const skill = skillsData[gameState.currentSkillIndex];
            const completedCount = gameState.skillProgress.filter(p => p.status === 2).length;
            const totalSkills = skillsData.length;
            
            // Obter quantidade de acertos neste desafio
            const correctInThisSkill = gameState.skillProgress[gameState.currentSkillIndex].correctAnswers;
            const totalQuestionsInSkill = skill.questions.length;
            
            // Determinar n√≠vel baseado em quantos desafios completados
            let levelText = "üåü";
            if (completedCount >= 9) levelText = "üåüüåü";
            if (completedCount >= 17) levelText = "üåüüåüüåü";
            if (completedCount >= 25) levelText = "üåüüåüüåüüåü";
            
            level.textContent = levelText;
            
            let message = "";
            let emoji = "üéâ";
            
            if (completedCount === totalSkills) {
                message = "üèÜ VOC√ä √â UM MESTRE DA MATEM√ÅTICA! üèÜ";
                emoji = "üèÜ";
                // Tocar som de vit√≥ria especial e disparar confete
                setTimeout(() => {
                    for(let i = 0; i < 5; i++) {
                        setTimeout(() => {
                            confetti({
                                particleCount: 200,
                                spread: 100,
                                origin: { y: 0.6 },
                                zIndex: 9999
                            });
                        }, i * 250);
                    }
                }, 500);
                
                // Tocar som especial de vit√≥ria completa
                if (isAudioEnabled && audioContext) {
                    setTimeout(() => {
                        // Sequ√™ncia especial de notas
                        const victoryNotes = [523.25, 659.25, 783.99, 1046.50, 1318.51, 1567.98];
                        victoryNotes.forEach((freq, idx) => {
                            setTimeout(() => {
                                const osc = audioContext.createOscillator();
                                const gain = audioContext.createGain();
                                osc.connect(gain);
                                gain.connect(audioContext.destination);
                                
                                osc.type = 'sine';
                                osc.frequency.setValueAtTime(freq, audioContext.currentTime);
                                
                                gain.gain.setValueAtTime(0.2, audioContext.currentTime);
                                gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                                
                                osc.start();
                                osc.stop(audioContext.currentTime + 0.2);
                            }, idx * 150);
                        });
                    }, 300);
                }
            } else if (completedCount >= 17) {
                message = "Uau! Voc√™ est√° indo muito bem! Continue assim!";
                emoji = "üöÄ";
            } else if (completedCount >= 9) {
                message = "Muito bom! Voc√™ est√° aprendendo bastante!";
                emoji = "üëç";
            } else {
                message = "Bom trabalho! Continue praticando!";
                emoji = "üëè";
            }
            
            document.getElementById('gameContent').innerHTML = `
                <div style="text-align: center; padding: 20px 0;">
                    <div style="font-size: 4rem; margin-bottom: 15px;">
                        ${emoji}
                    </div>
                    
                    <h3 style="color: #4a6bff; margin-bottom: 15px; font-size: 1.6rem;">Desafio Conclu√≠do!</h3>
                    
                    <div style="background-color: #f5f5f5; padding: 20px; border-radius: 15px; max-width: 500px; margin: 0 auto 20px;">
                        <div style="font-size: 1.8rem; font-weight: bold; color: #4a6bff; margin-bottom: 8px;">
                            ${skill.code}
                        </div>
                        <div style="font-size: 1.2rem; color: #666; margin-bottom: 15px;">
                            ${skill.title}
                        </div>
                        
                        <div style="background-color: white; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                            <p style="color: #333; font-size: 1.1rem; margin-bottom: 8px;">${message}</p>
                            <p style="color: #666; font-size: 1rem;">Voc√™ acertou <strong>${correctInThisSkill} de ${totalQuestionsInSkill}</strong> perguntas neste desafio.</p>
                            <p style="color: #666; font-size: 1rem;">Voc√™ completou <strong>${completedCount} de ${totalSkills}</strong> desafios!</p>
                            <p style="color: #666; font-size: 1rem;">Seu n√≠vel atual: <strong>${levelText}</strong></p>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;">
                        <button id="continueBtn" style="background: linear-gradient(135deg, #4a6bff, #6b8cff); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: bold;">
                            <i class="fas fa-play"></i> Continuar Jogando
                        </button>
                        <button id="closeGameBtn" style="background: linear-gradient(135deg, #ff6b9d, #ff4081); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: bold;">
                            <i class="fas fa-home"></i> Voltar ao In√≠cio
                        </button>
                        <button id="reviewTheoryBtn" style="background: linear-gradient(135deg, #4caf50, #8bc34a); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: bold;">
                            <i class="fas fa-brain"></i> Revisar Teoria
                        </button>
                    </div>
                </div>
            `;
            
            // Event listeners para os bot√µes
            document.getElementById('continueBtn').addEventListener('click', () => {
                closeModal(gameModal);
                // Resetar estado da pergunta atual
                gameState.selectedAnswer = null;
                gameState.answered = false;
            });
            
            document.getElementById('closeGameBtn').addEventListener('click', () => {
                closeModal(gameModal);
                // Resetar estado da pergunta atual
                gameState.selectedAnswer = null;
                gameState.answered = false;
            });
            
            document.getElementById('reviewTheoryBtn').addEventListener('click', () => {
                closeModal(gameModal);
                // Abrir modal de revis√£o te√≥rica para este desafio
                openModal(theoryModal);
                // Selecionar o desafio atual no seletor
                theorySelector.value = gameState.currentSkillIndex;
                // Disparar o evento change para carregar o conte√∫do
                theorySelector.dispatchEvent(new Event('change'));
            });
        }

        // Atualizar placar
        function updateScoreboard() {
            correctCount.textContent = gameState.score;
            attemptCount.textContent = gameState.attempts;
            
            const percentage = gameState.attempts > 0 
                ? Math.round((gameState.score / gameState.attempts) * 100) 
                : 0;
            document.getElementById('percentage').textContent = percentage + '%';
            
            // Atualizar n√≠vel
            const completedCount = gameState.skillProgress.filter(p => p.status === 2).length;
            if (completedCount >= 25) {
                level.textContent = "üåüüåüüåüüåü";
            } else if (completedCount >= 17) {
                level.textContent = "üåüüåüüåü";
            } else if (completedCount >= 9) {
                level.textContent = "üåüüåü";
            } else {
                level.textContent = "üåü";
            }
        }

        // Atualizar barra de progresso
        function updateProgressBar() {
            const completedCount = gameState.skillProgress.filter(p => p.status === 2).length;
            const progressPercentage = (completedCount / skillsData.length) * 100;
            
            globalProgress.style.width = progressPercentage + '%';
            document.getElementById('completedCount').textContent = completedCount;
            
            // Efeito visual quando completa um desafio
            if (progressPercentage > 0) {
                globalProgress.classList.add('celebrate-animation');
                setTimeout(() => {
                    globalProgress.classList.remove('celebrate-animation');
                }, 800);
            }
        }

        // Verificar se todos os desafios est√£o completos
        function checkAllCompleted() {
            const allCompleted = gameState.skillProgress.every(skill => skill.status === 2);
            
            if (allCompleted) {
                // Mostrar bot√µes de download
                downloadButtons.style.display = 'flex';
                downloadButtons.classList.add('bounce-animation');
                
                // Adicionar anima√ß√£o cont√≠nua para chamar aten√ß√£o
                setTimeout(() => {
                    downloadButtons.classList.remove('bounce-animation');
                    // Adicionar uma anima√ß√£o de pulso cont√≠nua
                    downloadPdfBtn.style.animation = 'pulse 2s infinite';
                    downloadStatsBtn.style.animation = 'pulse 2s infinite';
                }, 1000);
                
                // Adicionar regra CSS para anima√ß√£o de pulso
                if (!document.querySelector('#pulse-animation')) {
                    const style = document.createElement('style');
                    style.id = 'pulse-animation';
                    style.textContent = `
                        @keyframes pulse {
                            0% { transform: scale(1); }
                            50% { transform: scale(1.05); }
                            100% { transform: scale(1); }
                        }
                    `;
                    document.head.appendChild(style);
                }
            } else {
                downloadButtons.style.display = 'none';
                downloadPdfBtn.style.animation = 'none';
                downloadStatsBtn.style.animation = 'none';
            }
        }

        // Fun√ß√£o para download do PDF
        function downloadPDF() {
            const pdfPath = 'pdf/ABC-da-Matem√°tica.pdf';
            // Abrir em nova aba
            window.open(pdfPath, '_blank');
        }

        // FUN√á√ÉO PARA GERAR ARQUIVO DE ESTAT√çSTICAS - NOVA FUN√á√ÉO
        function generateStatsFile() {
            // Calcular estat√≠sticas gerais
            const totalQuestions = skillsData.reduce((sum, skill) => sum + skill.questions.length, 0);
            const percentageScore = gameState.attempts > 0 
                ? Math.round((gameState.score / gameState.attempts) * 100) 
                : 0;
            
            // Determinar n√≠vel
            const completedCount = gameState.skillProgress.filter(p => p.status === 2).length;
            let levelText = "Iniciante (üåü)";
            if (completedCount >= 9) levelText = "Intermedi√°rio (üåüüåü)";
            if (completedCount >= 17) levelText = "Avan√ßado (üåüüåüüåü)";
            if (completedCount >= 25) levelText = "Mestre (üåüüåüüåüüåü)";
            
            // Criar conte√∫do do arquivo
            let content = "=== ESTAT√çSTICAS DO ABC DA MATEM√ÅTICA ===\n\n";
            content += `Data: ${new Date().toLocaleDateString('pt-BR')}\n`;
            content += `Hora: ${new Date().toLocaleTimeString('pt-BR')}\n\n`;
            
            content += "=== ESTAT√çSTICAS GERAIS ===\n";
            content += `Total de Acertos: ${gameState.score}\n`;
            content += `Total de Tentativas: ${gameState.attempts}\n`;
            content += `Taxa de Acerto: ${percentageScore}%\n`;
            content += `Desafios Completados: ${completedCount}/25\n`;
            content += `N√≠vel: ${levelText}\n\n`;
            
            content += "=== DESAFIOS COMPLETADOS ===\n";
            skillsData.forEach((skill, index) => {
                const progress = gameState.skillProgress[index];
                const status = progress.status === 2 ? "‚úÖ COMPLETO" : 
                              progress.status === 1 ? "‚è≥ EM ANDAMENTO" : "‚ùå N√ÉO INICIADO";
                const correct = progress.correctAnswers || 0;
                const total = skill.questions.length;
                
                content += `${skill.code}: ${skill.title} - ${status}\n`;
                content += `   Acertos: ${correct}/${total} (${total > 0 ? Math.round((correct/total)*100) : 0}%)\n`;
                
                // Mostrar quest√µes erradas, se houver
                if (progress.wrongQuestions && progress.wrongQuestions.length > 0) {
                    content += `   Quest√µes com erro: ${progress.wrongQuestions.map(q => q+1).join(', ')}\n`;
                }
                content += "\n";
            });
            
            content += "=== QUEST√ïES COM ERRO - DETALHES ===\n\n";
            
            let hasErrors = false;
            
            // Detalhar cada quest√£o errada
            skillsData.forEach((skill, index) => {
                const progress = gameState.skillProgress[index];
                
                if (progress.wrongQuestions && progress.wrongQuestions.length > 0) {
                    hasErrors = true;
                    content += `${skill.code}: ${skill.title}\n`;
                    
                    progress.wrongQuestions.forEach(questionIndex => {
                        const question = skill.questions[questionIndex];
                        const selectedAnswer = question.options[gameState.selectedAnswer] || "N√£o registrada";
                        const correctAnswer = question.options[question.correct];
                        
                        content += `   Quest√£o ${questionIndex + 1}: ${question.question}\n`;
                        content += `   Sua resposta: ${selectedAnswer}\n`;
                        content += `   Resposta correta: ${correctAnswer}\n`;
                        content += `   Explica√ß√£o: ${question.explanation}\n`;
                        content += "\n";
                    });
                }
            });
            
            if (!hasErrors) {
                content += "Parab√©ns! Voc√™ n√£o errou nenhuma quest√£o em nenhum desafio!\n";
                content += "Isso √© um feito impressionante! üëèüéâ\n\n";
            }
            
            content += "=== DICAS PARA MELHORAR ===\n";
            content += "1. Revise as quest√µes que voc√™ errou\n";
            content += "2. Use a 'Revis√£o Te√≥rica' para entender melhor os conceitos\n";
            content += "3. Pratique regularmente para fixar o conhecimento\n";
            content += "4. N√£o desanime com os erros - eles s√£o oportunidades de aprendizado!\n\n";
            
            content += "=== INFORMA√á√ïES DO JOGO ===\n";
            content += "ABC da Matem√°tica - 5¬∫ Ano do Ensino Fundamental\n";
            content += "Desenvolvido por alunos de Licenciatura em Matem√°tica da UNIVESP\n";
            content += "Projeto Integrador IV - Aprendendo Matem√°tica com Divers√£o\n\n";
            
            content += "FIM DO RELAT√ìRIO";
            
            // Criar arquivo e fazer download
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `Estatisticas_ABC_Matematica_${new Date().toISOString().slice(0,10)}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            // Mostrar mensagem de sucesso
            alert("Arquivo de estat√≠sticas gerado com sucesso!\n\nO arquivo inclui:\n- Estat√≠sticas gerais do seu desempenho\n- Lista de todos os desafios e seu status\n- Detalhes das quest√µes que voc√™ errou\n- Dicas para melhorar seu aprendizado");
        }

        // Salvar estado do jogo
        function saveGameState() {
            localStorage.setItem('mathGameState', JSON.stringify(gameState));
        }

        // Fun√ß√µes para manipular modais
        function openModal(modal) {
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeModal(modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Inicializar o jogo quando a p√°gina carregar
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
